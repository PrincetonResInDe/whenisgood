(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOffset=function(e){var t=(0,i.default)(e).startOf("day");return e.diff(t,"m")},t.getMoment=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e*t+n>=1440)return(0,i.default)({h:23,m:59});return(0,i.default)({h:0,m:0}).add(e*t+n,"m")},t.getNumberOfCells=s,t.getIntervalsByDuration=function(e,t,n){for(var a=s(t,e,!1),r=s(n,e,!0),o=(0,i.default)({h:0,m:0}).add(e*a,"m"),l=void 0,c=[],u=a;u<r;u+=1){l=o.clone().add(e,"m");var d={start:o,end:l};c.push(d),o=l}var h=c.pop();"00:00"===h.end.format("HH:mm")&&(h={start:h.start,end:(0,i.default)({hour:23,minute:59})});return c.push(h),c},t.getDayIntervals=function(e,t){return t.map((function(t){return{start:(0,i.default)(e).hour(t.start.hour()).minute(t.start.minute()).second(0),end:(0,i.default)(e).hour(t.end.hour()).minute(t.end.minute()).second(0)}}))},t.getIntervals=function(e,t){for(var n=t.diff(e,"days"),a=[],r=0;r<=n;r+=1){var s=(0,i.default)(e).add(r,"day"),o=(0,i.default)(e).add(r,"day").hour(t.hour()).minute(t.minute()).second(0);a.push({start:s,end:o})}return a};var a,r=n(19),i=(a=r)&&a.__esModule?a:{default:a};function s(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=(0,i.default)(e).startOf("day").add(a,"m"),s=(0,i.default)(e);"23:59"===s.format("HH:mm")&&s.add(1,"m");var o=n?Math.ceil(s.diff(r,"m")/t):Math.floor(s.diff(r,"m")/t);return o<0?0:o}},27:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=m(n(1)),s=m(n(17)),o=m(n(19)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(24)),c=m(n(39)),u=m(n(40)),d=m(n(42)),h=m(n(43)),p=m(n(44)),f=m(n(45)),v=m(n(46)),b=n(47);function m(e){return e&&e.__esModule?e:{default:e}}var j={firstDay:s.default.object,numberOfDays:s.default.number,scaleHeaderTitle:s.default.string,headerCellComponent:s.default.func,dayFormat:s.default.string,startTime:s.default.object,endTime:s.default.object,scaleUnit:s.default.number,scaleFormat:s.default.string,cellHeight:s.default.number,dayCellComponent:s.default.func,selectedIntervals:s.default.array,onIntervalSelect:s.default.func,onIntervalUpdate:s.default.func,onIntervalRemove:s.default.func,eventComponent:s.default.func,onEventClick:s.default.func,modalComponent:s.default.func,useModal:s.default.bool,showModalCase:s.default.arrayOf(s.default.string),eventSpacing:s.default.number},y={firstDay:(0,o.default)(),numberOfDays:7,scaleHeaderTitle:"",headerCellComponent:h.default,dayFormat:"dd., DD.MM",startTime:(0,o.default)({h:0,m:0}),endTime:(0,o.default)({h:23,m:59}),scaleUnit:15,scaleFormat:"HH:mm",cellHeight:25,dayCellComponent:p.default,selectedIntervals:[],eventComponent:f.default,modalComponent:v.default,useModal:!0,showModalCase:[b.ACTION_TYPES.CREATE,b.ACTION_TYPES.EDIT],eventSpacing:15},O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));g.call(n);var a=e.scaleUnit,r=e.startTime,i=e.endTime,s=l.getIntervalsByDuration(a,r,i);return n.state={scaleIntervals:s,columnDimensions:[],scrollPosition:{top:0,left:0},startSelectionPosition:null,preselectedInterval:null},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.calculateColumnDimension(),window.addEventListener("resize",this.calculateColumnDimension),window.addEventListener("mouseup",this.handleSelectionStop)}},{key:"componentWillReceiveProps",value:function(e){if(e.scaleUnit!==this.props.scaleUnit||e.startTime!==this.props.startTime||e.endTime!==this.props.endTime){var t=l.getIntervalsByDuration(e.scaleUnit,e.startTime,e.endTime);this.setState({scaleIntervals:t})}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.calculateColumnDimension),window.removeEventListener("mouseup",this.handleSelectionStop)}},{key:"renderSelectedIntervals",value:function(){var e=this,t=this.props,n=t.firstDay,a=t.numberOfDays,r=t.cellHeight,s=t.scaleUnit,c=t.selectedIntervals,u=t.eventSpacing,d=this.state,h=d.columnDimensions,p=d.scaleIntervals,f=[];if(0===h.length||0===c.length)return f;for(var v=this.props.eventComponent,b=l.getOffset(p[0].start),m=[],j=function(t){var a=(0,o.default)(n).startOf("day").add(t,"day"),d=c.filter((function(e){return e.start.isSame(a,"day")||e.end.isSame(a,"day")}));if(d.length>0){d.sort((function(e,t){return e.start.diff(t.start,"minutes")}));var j=[],y=null;d.forEach((function(e){"event"==e.type?null==y?y=e:y.end.isBefore(e.start)?(j.push(y),y=e):y.end.isBefore(e.end)&&(y.end=e.end):j.push(e)})),null!=y&&j.push(y),(d=j).sort((function(e,t){return e.start.diff(t.start,"minutes")})),m.push.apply(m,d),d.forEach((function(n,o,c){var d=0;if(n.start.isBefore(a)||(d=l.getNumberOfCells(n.start,s,!1,b)),!(d>p.length)){var m=c.filter((function(e,t){return t<o&&"gcalevent"==n.type&&n.start.isBefore(e.end)})).length,j=c.filter((function(e,t){return t>o&&"gcalevent"==n.type&&n.end.isAfter(e.start)})).length,y=c.filter((function(e,t){return"gcalevent"==n.type&&"event"==e.type&&(t<o&&n.start.isBefore(e.end)||t>o&&n.end.isAfter(e.start))})).length,O=m+j+1-Math.max(0,y-1),g=l.getNumberOfCells(n.end,s,!0,b);g>p.length&&(g=p.length);var x,D=d*r;x="event"==n.type?h[t].width-u:(h[t].width-u)/O;var w={top:D,left:h[t].left+(x+Math.floor(u/O))*(m+Math.max(0,y-1)),width:x,height:(g-d)*r},E=i.default.createElement("div",{className:"weekCalendar__overlay",key:2e4*t+o,style:w,onClick:e.handleEventClick.bind(e,n)},i.default.createElement(v,n));f.push(E)}}))}},y=0;y<a;y+=1)j(y);return t.setSelectedIntervals(m),f}},{key:"renderOverlay",value:function(){if(null!=this.state.startSelectionPosition){var e=this.state.startSelectionPosition,t=this.state.mousePosition,n=Math.min(e.y,t.y)*this.props.cellHeight,a=this.state.columnDimensions[Math.min(e.x,t.x)].left,r=this.state.columnDimensions[Math.max(e.x,t.x)],s={top:n,left:a,width:r.left-a+r.width,height:(Math.max(e.y,t.y)+1)*this.props.cellHeight-n};return i.default.createElement("div",{className:"weekCalendar__overlay weekCalendar__overlay_status_selection",style:s})}return null}},{key:"renderModal",value:function(){var e=this.props,t=e.useModal,n=e.showModalCase,r=this.state,s=r.preselectedInterval,o=r.updateEvent?b.ACTION_TYPES.EDIT:b.ACTION_TYPES.CREATE;if(s&&t&&n.includes(o)){var l=this.props.modalComponent;return i.default.createElement("div",{className:"calendarModal"},i.default.createElement("div",{className:"calendarModal__backdrop",onClick:this.closeModule}),i.default.createElement("div",{className:"calendarModal__content"},i.default.createElement(l,a({},s,{onRemove:this.removePreselectedInterval,onSave:this.submitPreselectedInterval,actionType:o}))))}return null}},{key:"render",value:function(){var e=this.props,t=e.firstDay,n=e.numberOfDays,a=e.headerCellComponent,r=e.dayFormat,s=e.scaleUnit,o=e.scaleFormat,l=e.cellHeight,h=e.dayCellComponent,p=e.scaleHeaderTitle,f=null!=this.state.startSelectionPosition;return i.default.createElement("div",{className:f?"weekCalendar weekCalendar__status_selection":"weekCalendar"},i.default.createElement("div",{className:"weekCalendar__scaleHeader"},i.default.createElement("span",null,p)),i.default.createElement("div",{className:"weekCalendar__header",style:{left:-this.state.scrollPosition.left}},i.default.createElement(c.default,{firstDay:t,numberOfDays:n,dayFormat:r,columnDimensions:this.state.columnDimensions,headerCellComponent:a})),i.default.createElement("div",{className:"weekCalendar__scaleColumn",style:{top:-this.state.scrollPosition.top}},i.default.createElement(d.default,{scaleUnit:this.props.scaleUnit,scaleFormat:o,scaleIntervals:this.state.scaleIntervals,cellHeight:this.props.cellHeight})),i.default.createElement("div",{className:"weekCalendar__content",onScroll:this.handleScroll},i.default.createElement(u.default,{firstDay:t,numberOfDays:n,scaleUnit:s,scaleIntervals:this.state.scaleIntervals,cellHeight:l,dayCellComponent:h,onSelectionStart:this.handleSelectionStart,onCellMouseEnter:this.handleCellMouseEnter}),this.renderSelectedIntervals(),this.renderOverlay()),this.renderModal())}}]),t}(i.default.Component),g=function(){var e=this;this.calculateColumnDimension=function(){for(var t=e.props.numberOfDays,n=[],a=0;a<t;a+=1){var r=0===a?0:n[a-1].left+n[a-1].width,i=0,s=document.querySelectorAll("[data-colpos='"+a+"']")[0];s&&(i=s.getBoundingClientRect().width),n.push({left:r,width:i})}e.setState({columnDimensions:n})},this.handleScroll=function(t){e.setState({scrollPosition:{top:t.target.scrollTop,left:t.target.scrollLeft}})},this.handleCellMouseEnter=function(t,n){null!=e.state.startSelectionPosition&&e.setState({mousePosition:{x:t,y:n}})},this.handleSelectionStart=function(t,n){var a={x:t,y:n};e.setState({startSelectionPosition:a,mousePosition:a})},this.handleSelectionStop=function(t){if(0===t.button){var n=e.props,a=n.firstDay,r=n.scaleUnit,i=n.useModal,s=n.showModalCase,c=e.state,u=c.startSelectionPosition,d=c.mousePosition,h=c.scaleIntervals;if(null!=u){var p=d.x,f=d.y,v=Math.min(u.x,p),m=Math.max(u.x,p),j=(0,o.default)(a).add(v,"days"),y=(0,o.default)(a).add(m,"days"),O=Math.min(u.y,f),g=Math.max(u.y,f)+1,x=l.getOffset(h[0].start),D=l.getMoment(r,O,x),w=l.getMoment(r,g,x),E=(0,o.default)(j).hour(D.hour()).minute(D.minute()).second(0),C=(0,o.default)(y).hour(w.hour()).minute(w.minute()).second(0);if(i&&s.includes(b.ACTION_TYPES.CREATE)){var _={start:E,end:C};e.setState({preselectedInterval:_,updateEvent:!1})}else{var S=l.getIntervals(E,C);e.props.onIntervalSelect&&e.props.onIntervalSelect(S)}e.setState({startSelectionPosition:null,mousePosition:null})}}},this.removePreselectedInterval=function(){var t=e.state,n=t.preselectedInterval;t.updateEvent&&e.props.onIntervalRemove&&e.props.onIntervalRemove(n),e.setState({preselectedInterval:null})},this.submitPreselectedInterval=function(t){var n=e.state,r=n.preselectedInterval;if(n.updateEvent)e.props.onIntervalUpdate&&e.props.onIntervalUpdate(a({},r,t));else if(e.props.onIntervalSelect){var i=l.getIntervals(r.start,r.end).map((function(e){return a({},e,t)}));e.props.onIntervalSelect(i)}e.setState({preselectedInterval:null})},this.closeModule=function(){e.setState({preselectedInterval:null})},this.handleEventClick=function(t){e.props.onEventClick&&e.props.onEventClick(t),e.setState({preselectedInterval:t,updateEvent:!0})}};O.propTypes=j,O.defaultProps=y,t.default=O},32:function(e,t,n){},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CalendarHeader=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(1)),i=o(n(17)),s=o(n(19));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u={firstDay:i.default.object.isRequired,numberOfDays:i.default.number.isRequired,headerCellComponent:i.default.func.isRequired,dayFormat:i.default.string.isRequired,columnDimensions:i.default.array.isRequired},d=t.CalendarHeader=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return e.numberOfDays!==this.props.numberOfDays||!e.firstDay.isSame(this.props.firstDay,"day")||e.columnDimensions!==this.props.columnDimensions}},{key:"render",value:function(){var e=this.props,t=e.firstDay,n=e.numberOfDays,a=e.dayFormat,i=e.columnDimensions,o=this.props.headerCellComponent;if(0===i.length)return null;for(var l=[],c=0,u=0;u<n;u+=1){var d=(0,s.default)(t).add(u,"d"),h=i[u].width;c+=h;var p=r.default.createElement("div",{key:u,className:"weekCalendar__headerColumn",style:{width:h}},r.default.createElement(o,{date:d,dayFormat:a}));l.push(p)}return r.default.createElement("div",{style:{width:c},className:"weekCalendar__headerWrapper"},l)}}]),t}(r.default.Component);d.propTypes=u,t.default=d},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=c(n(1)),i=c(n(17)),s=c(n(19)),o=c(n(41)),l=n(24);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h={firstDay:i.default.object.isRequired,numberOfDays:i.default.number.isRequired,scaleUnit:i.default.number.isRequired,scaleIntervals:i.default.array.isRequired,cellHeight:i.default.number.isRequired,dayCellComponent:i.default.func.isRequired,onSelectionStart:i.default.func.isRequired,onCellMouseEnter:i.default.func.isRequired},p=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return e.scaleUnit!==this.props.scaleUnit||e.cellHeight!==this.props.cellHeight||e.numberOfDays!==this.props.numberOfDays||!e.firstDay.isSame(this.props.firstDay,"day")}},{key:"render",value:function(){for(var e=this.props,t=e.firstDay,n=e.numberOfDays,a=e.scaleUnit,i=e.scaleIntervals,c=e.cellHeight,u=e.dayCellComponent,d=[],h=0;h<n;h+=1){var p=(0,s.default)(t).add(h,"d"),f=(0,l.getDayIntervals)(p,i);d.push(r.default.createElement(o.default,{key:h,colPos:h,cellHeight:c,dayCellComponent:u,scaleUnit:a,dayIntervals:f,onSelectionStart:this.props.onSelectionStart,onCellMouseEnter:this.props.onCellMouseEnter}))}return r.default.createElement("div",{className:"calendarBody"},r.default.createElement("div",{className:"calendarBody__row"},d))}}]),t}(r.default.Component);p.propTypes=h,t.default=p},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(1)),i=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={colPos:i.default.number.isRequired,dayIntervals:i.default.array.isRequired,cellHeight:i.default.number.isRequired,dayCellComponent:i.default.func.isRequired,onSelectionStart:i.default.func.isRequired,onCellMouseEnter:i.default.func.isRequired},u=function(e){function t(){var e,n,a;o(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.handleMouseEnter=function(e,t){return function(){a.props.onCellMouseEnter(e,t)}},a.handleStartSelection=function(e,t){return function(){a.props.onSelectionStart(e,t)}},l(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.cellHeight,a=t.colPos,i=t.dayIntervals,s=this.props.dayCellComponent,o=i.map((function(t,i){return r.default.createElement("div",{key:i,className:"calendarBody__cell",style:{height:n},onMouseEnter:e.handleMouseEnter(a,i)},r.default.createElement(s,{colPos:a,rowPos:i,startTime:t.start,endTime:t.end,cellHeight:e.props.cellHeight,startSelection:e.handleStartSelection(a,i)}))}));return r.default.createElement("div",{className:"calendarBody__column","data-colpos":a},o)}}]),t}(r.default.Component);u.propTypes=c,t.default=u},42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(1)),i=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={scaleUnit:i.default.number.isRequired,scaleFormat:i.default.string.isRequired,scaleIntervals:i.default.array.isRequired,cellHeight:i.default.number.isRequired},u=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return e.scaleUnit!==this.props.scaleUnit||e.cellHeight!==this.props.cellHeight}},{key:"renderScaleCell",value:function(e,t){var n=this.props,a=n.cellHeight,i=n.scaleFormat;return r.default.createElement("div",{key:t,className:"weekCalendar__scaleCell",style:{height:a,lineHeight:a+"px"}},r.default.createElement("span",null,e.start.format(i)))}},{key:"render",value:function(){var e=this,t=this.props.scaleIntervals;return r.default.createElement("div",null,t.map((function(t,n){return e.renderScaleCell(t,n)})))}}]),t}(r.default.Component);u.propTypes=c,t.default=u},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(1)),i=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={date:i.default.object.isRequired,dayFormat:i.default.string.isRequired},u=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.date,n=e.dayFormat;return r.default.createElement("span",{className:"title"},t.format(n))}}]),t}(r.default.PureComponent);u.propTypes=c,t.default=u},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l={startSelection:i(n(17)).default.func.isRequired},c=function(e){function t(){var e,n,a;s(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.handleMouseDown=function(e){0===e.button&&a.props.startSelection()},o(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return r.default.createElement("div",{onMouseDown:this.handleMouseDown,className:"dayCell",role:"presentation"},"\xa0")}}]),t}(r.default.Component);c.propTypes=l,t.default=c},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(1)),i=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={start:i.default.object.isRequired,end:i.default.object.isRequired},u=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.start,a=e.end,i=e.value;return r.default.createElement("div",{className:t},r.default.createElement("span",null,n.format("HH:mm")+" - "+a.format("HH:mm")),r.default.createElement("br",null),r.default.createElement("br",null),i)}}]),t}(r.default.PureComponent);u.propTypes=c,t.default=u},46:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(1)),i=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={start:i.default.object.isRequired,end:i.default.object.isRequired,value:i.default.string,onRemove:i.default.func.isRequired,onSave:i.default.func.isRequired,actionType:i.default.string},u=function(e){function t(){var e,n,a;o(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.handleRemove=function(){a.props.onRemove()},a.handleSave=function(){var e=a.input.value;a.props.onSave({value:e})},l(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"renderText",value:function(){var e=this.props,t=e.start,n=e.end;return t.isSame(n,"day")?r.default.createElement("span",null,t.format("Do MMM., HH:mm")+" - "+n.format("HH:mm")):r.default.createElement("span",null,t.format("Do MMM.")+" - "+n.format("Do MMM.")+", "+t.format("HH:mm")+" - "+n.format("HH:mm"))}},{key:"render",value:function(){var e=this,t=this.props.value;return r.default.createElement("div",{className:"customModal"},r.default.createElement("div",{className:"customModal__text"},this.renderText()),r.default.createElement("input",{ref:function(t){e.input=t},className:"customModal__input",type:"text",placeholder:"Enter something",defaultValue:t}),r.default.createElement("button",{className:"customModal__button",onClick:this.handleRemove},"Delete"),r.default.createElement("button",{className:"customModal__button customModal__button_float_right",onClick:this.handleSave},"Save"))}}]),t}(r.default.Component);u.propTypes=c,u.defaultProps={value:""},t.default=u},47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTION_TYPES={CREATE:"create",EDIT:"edit"}},48:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(25),s=n.n(i),o=(n(32),n(5)),l=n(6),c=n(8),u=n(7),d=n(3),h=n(2),p=n(10),f=n(12),v=n(0),b=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).deleteEvent=a.deleteEvent.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"deleteEvent",value:function(){var e=this,t={sp_name:"deleteEvent",params:[this.props.event.UUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.props.refresh()}))}},{key:"render",value:function(){var e="/respond/"+this.props.event.UUID,t="/edit/"+this.props.event.UUID,n="/results/"+this.props.event.UUID;return Object(v.jsx)("div",{children:Object(v.jsx)(f.a,{style:{width:"18rem",height:"12rem"},children:Object(v.jsxs)(f.a.Body,{children:[Object(v.jsxs)("div",{style:{height:"8rem"},children:[Object(v.jsx)(f.a.Title,{children:this.props.event.name}),Object(v.jsx)(f.a.Text,{children:this.props.event.description})]}),Object(v.jsxs)("footer",{children:[Object(v.jsx)(f.a.Link,{children:Object(v.jsx)(p.b,{to:e,children:"Respond"})}),Object(v.jsx)(f.a.Link,{children:Object(v.jsx)(p.b,{to:t,children:"Edit"})}),Object(v.jsx)(f.a.Link,{onClick:this.deleteEvent,children:"Delete"}),Object(v.jsx)(f.a.Link,{children:Object(v.jsx)(p.b,{to:n,children:"Results"})})]})]})})})}}]),n}(r.a.Component),m=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e="/respond/"+this.props.response.UUID;return Object(v.jsx)("div",{children:Object(v.jsx)(f.a,{style:{width:"18rem",height:"12rem"},children:Object(v.jsxs)(f.a.Body,{children:[Object(v.jsxs)("div",{style:{height:"8rem"},children:[Object(v.jsx)(f.a.Title,{children:this.props.response.name}),Object(v.jsx)(f.a.Text,{children:this.props.response.description})]}),Object(v.jsx)("footer",{children:Object(v.jsx)(f.a.Link,{children:Object(v.jsx)(p.b,{to:e,children:"Edit Response"})})})]})})})}}]),n}(r.a.Component),j=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=[],n=[];return this.props.events.forEach((function(n){t.push(Object(v.jsx)(b,{event:n,refresh:e.props.refresh},n.UUID))})),this.props.responses.forEach((function(e){n.push(Object(v.jsx)(m,{response:e},"r"+e.UUID))})),Object(v.jsxs)("div",{style:{padding:"16px"},children:[Object(v.jsx)("h3",{children:"My Events"}),Object(v.jsx)(p.b,{to:"/create",children:Object(v.jsx)("h5",{children:"Create new event"})}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:t}),Object(v.jsx)("br",{}),Object(v.jsx)("h3",{children:"My Responses"}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:n})]})}}]),n}(r.a.Component),y=n(4),O=n(9),g=n.n(O),x=n(27),D=n.n(x),w=window.gapi,E="1061583639488-a6in0ntustneh0hqfcnn9ju5g8uu6e7t.apps.googleusercontent.com",C="AIzaSyBu5yiQId53xE4PW-zoJRseKqFhSoPwv30",_=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],S="https://www.googleapis.com/auth/calendar.events",I=null,T=null,k=function(e,t){w.load("client:auth2",(function(){I=e,T=t,w.client.init({apiKey:C,clientId:E,discoveryDocs:_,scope:S}).then((function(){w.auth2.getAuthInstance().isSignedIn.listen(M),M(w.auth2.getAuthInstance().isSignedIn.get())}),(function(e){}))}))},R=function(e){console.log("handling auth click"),w.auth2.getAuthInstance().signIn()};function M(e){e&&w.client.calendar.events.list({calendarId:"primary",timeMin:g()(I.event.startDate).format(),timeMax:g()(I.event.endDate).format(),singleEvents:!0,orderBy:"startTime"}).then((function(e){e.result.items.forEach((function(e){I.selectedIntervals.push({uid:I.lastUid,start:g()(e.start.dateTime),end:g()(e.end.dateTime),value:e.summary,type:"gcalevent"}),I.lastUid++})),T()}))}var P=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleEventRemove=function(e){var t=a.state.selectedIntervals,n=t.findIndex((function(t){return t.uid===e.uid}));n>-1&&(t.splice(n,1),a.setState({selectedIntervals:t}))},a.handleEventUpdate=function(e){var t=a.state.selectedIntervals,n=t.findIndex((function(t){return t.uid===e.uid}));n>-1&&(t[n]=e,a.setState({selectedIntervals:t}))},a.handleSelect=function(e){var t=a.state,n=t.lastUid,r=t.selectedIntervals,i=e.map((function(e,t){return Object(y.a)(Object(y.a)({},e),{},{type:"event",uid:n+t})}));a.setState({selectedIntervals:r.concat(i),lastUid:n+e.length})},a.setSelectedIntervals=function(e){a.state.selectedIntervals.length=0,e.forEach((function(e){a.state.selectedIntervals.push(e)}))},a.state={loaded:!1,lastUid:0,selectedIntervals:[],event:a.props.event},a.updateAvailabilities=a.updateAvailabilities.bind(Object(d.a)(a)),a.setSelectedIntervals=a.setSelectedIntervals.bind(Object(d.a)(a)),a.setLoaded=a.setLoaded.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"setLoaded",value:function(){console.log("setting loaded true"),this.setState({loaded:!0})}},{key:"componentDidMount",value:function(){var e=this,t={sp_name:"getUserAvailabilities",params:[this.state.event.UUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t.forEach((function(t){e.state.selectedIntervals.push({uid:e.state.lastUid,start:g()(t.startTime),end:g()(t.endTime),value:"",type:"event"}),e.state.lastUid++}))})).then((function(t){k(e.state,e.setLoaded),e.setLoaded()}))}},{key:"updateAvailabilities",value:function(){var e="";this.state.selectedIntervals.forEach((function(t){if("event"==t.type){var n=t.start.clone().utc().format("YYYY-M-D HH:mm:ss"),a=t.end.clone().utc().format("YYYY-M-D HH:mm:ss");e+=n+","+a+";"}}));var t={sp_name:"saveAvailabilityArray",params:[this.state.event.UUID,e]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){alert("Saved")}))}},{key:"render",value:function(){return console.log("rendering"),Object(v.jsxs)("div",{children:[Object(v.jsx)(D.a,{startTime:g()({h:7,m:0}),endTime:g()({h:22,m:15}),firstDay:g()(this.state.event.startDate).add(1,"days"),numberOfDays:g()(this.state.event.endDate).diff(g()(this.state.event.startDate),"days")+1,scaleFormat:"HH:mm",dayFormat:"ddd. MM.DD",useModal:!1,selectedIntervals:this.state.selectedIntervals,onIntervalSelect:this.handleSelect,onIntervalUpdate:this.handleEventUpdate,onIntervalRemove:this.handleEventRemove,setSelectedIntervals:this.setSelectedIntervals,onEventClick:this.handleEventRemove,eventSpacing:0}),Object(v.jsxs)("div",{style:{textAlign:"right",padding:"10px"},children:[Object(v.jsx)("button",{class:"bluebutton",onClick:R,disabled:!this.state.loaded,children:"Load Google Calendar"}),Object(v.jsx)("button",{class:"greenbutton",onClick:this.updateAvailabilities,children:"Save"})]})]})}}]),n}(r.a.Component),U=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={event:{name:"",description:"",startDate:"",endDate:"",UUID:"",isRecurring:""},loaded:!1},a.setLoaded=a.setLoaded.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"setLoaded",value:function(){this.setState({loaded:!0})}},{key:"getEvent",value:function(){var e=this,t={sp_name:"getEvent",params:[this.props.eventUUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.state.event.name=t[0].name,e.state.event.description=t[0].description,e.state.event.startDate=t[0].startDate,e.state.event.endDate=t[0].endDate,e.state.event.UUID=t[0].UUID,e.state.event.isRecurring=t[0].isRecurring,e.setLoaded()}))}},{key:"componentDidMount",value:function(){this.getEvent()}},{key:"render",value:function(){var e=this.state,t=e.event;return e.loaded?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{textAlign:"center",padding:"10px"},children:Object(v.jsxs)("h3",{children:[t.name," - ",t.description]})}),Object(v.jsx)(P,{event:t})]}):Object(v.jsx)("div",{})}}]),n}(r.a.Component);function H(e){var t=Object(h.h)().UUID;return Object(v.jsx)(U,{eventUUID:t,refresh:e.refresh})}var N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={name:null,description:null,group:null,location:null,eventType:null,length:null,isRecurring:0,startDate:null,endDate:null,dueDate:null,redirect:!1},a.addEvent=a.addEvent.bind(Object(d.a)(a)),a.handleName=a.handleName.bind(Object(d.a)(a)),a.handleDescription=a.handleDescription.bind(Object(d.a)(a)),a.handleGroup=a.handleGroup.bind(Object(d.a)(a)),a.handleLocation=a.handleLocation.bind(Object(d.a)(a)),a.handleEventType=a.handleEventType.bind(Object(d.a)(a)),a.handleLength=a.handleLength.bind(Object(d.a)(a)),a.handleIsRecurring=a.handleIsRecurring.bind(Object(d.a)(a)),a.handleStartDate=a.handleStartDate.bind(Object(d.a)(a)),a.handleEndDate=a.handleEndDate.bind(Object(d.a)(a)),a.handleDueDate=a.handleDueDate.bind(Object(d.a)(a)),a.setRedirect=a.setRedirect.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"handleDescription",value:function(e){this.setState({description:e.target.value})}},{key:"handleGroup",value:function(e){this.setState({group:e.target.value})}},{key:"handleLocation",value:function(e){this.setState({location:e.target.value})}},{key:"handleEventType",value:function(e){this.setState({eventType:e.target.value})}},{key:"handleLength",value:function(e){this.setState({length:e.target.value})}},{key:"handleIsRecurring",value:function(e){0==this.state.isRecurring?this.setState({isRecurring:1}):this.setState({isRecurring:0})}},{key:"handleStartDate",value:function(e){this.setState({startDate:e.target.value})}},{key:"handleEndDate",value:function(e){this.setState({endDate:e.target.value})}},{key:"handleDueDate",value:function(e){this.setState({dueDate:e.target.value})}},{key:"setRedirect",value:function(){this.setState({redirect:!0})}},{key:"addEvent",value:function(e){var t=this;if(e.preventDefault(),""!=this.state.name&&""!=this.state.startDate&&""!=this.state.endDate){var n={sp_name:"addEvent",params:[this.state.name,this.state.description,this.state.group,this.state.location,this.state.eventType,this.state.length,this.state.isRecurring,this.state.startDate,this.state.endDate,this.state.dueDate]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){t.props.refresh(),t.setRedirect()}))}}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(v.jsx)(h.a,{to:"/"}):Object(v.jsxs)("div",{style:{padding:"16px"},children:[Object(v.jsx)("h3",{children:"Create New Event"}),Object(v.jsxs)("form",{onSubmit:function(t){return e.addEvent(t)},children:[Object(v.jsx)("p",{children:"Name:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.name,onChange:this.handleName})}),Object(v.jsx)("p",{children:"Description:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.description,onChange:this.handleDescription})}),Object(v.jsx)("p",{children:"Group:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.group,onChange:this.handleGroup})}),Object(v.jsx)("p",{children:"Location:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.location,onChange:this.handleLocation})}),Object(v.jsx)("p",{children:"Event Type:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.eventType,onChange:this.handleEventType})}),Object(v.jsx)("p",{children:"Length:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"number",min:15,value:this.state.length,onChange:this.handleLength})}),Object(v.jsx)("p",{children:"Recurring:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"checkbox",onChange:this.handleIsRecurring})}),Object(v.jsx)("p",{children:"Start Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.startDate,onChange:this.handleStartDate})}),Object(v.jsx)("p",{children:"End Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.endDate,onChange:this.handleEndDate})}),Object(v.jsx)("p",{children:"Due Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.dueDate,onChange:this.handleDueDate})}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"submit",class:"greenbutton",value:"Create"})})]})]})}}]),n}(r.a.Component),L=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return this.props.loggedIn?Object(v.jsxs)("div",{class:"topnav",children:[Object(v.jsx)("h2",{style:{pointerEvents:"none"},children:"TigerMeet"}),Object(v.jsxs)("div",{class:"topnav-right",children:[Object(v.jsx)(p.b,{to:"/",children:Object(v.jsx)("h2",{children:"Dashboard"})}),Object(v.jsx)(p.b,{to:"/",children:Object(v.jsx)("h2",{children:"About"})}),Object(v.jsx)("a",{href:"/logout",children:Object(v.jsx)("h2",{children:"Log Out"})})]})]}):Object(v.jsxs)("div",{class:"topnav",children:[Object(v.jsx)("h2",{children:"TigerMeet"}),Object(v.jsxs)("div",{class:"topnav-right",children:[Object(v.jsx)(p.b,{to:"/",children:Object(v.jsx)("h2",{children:"About"})}),Object(v.jsx)("a",{href:"/login",children:Object(v.jsx)("h2",{children:"Log In"})})]})]})}}]),n}(r.a.Component),A=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={name:a.props.event.name,description:a.props.event.description,group:a.props.event.group,location:a.props.event.location,eventType:a.props.event.eventType,length:a.props.event.length,isRecurring:a.props.event.isRecurring,startDate:g()(a.props.event.startDate).add(1,"days").format("YYYY-MM-DD"),endDate:g()(a.props.event.endDate).add(1,"days").format("YYYY-MM-DD"),dueDate:g()(a.props.event.dueDate).add(1,"days").format("YYYY-MM-DD"),redirect:!1},a.editEvent=a.editEvent.bind(Object(d.a)(a)),a.handleName=a.handleName.bind(Object(d.a)(a)),a.handleDescription=a.handleDescription.bind(Object(d.a)(a)),a.handleGroup=a.handleGroup.bind(Object(d.a)(a)),a.handleLocation=a.handleLocation.bind(Object(d.a)(a)),a.handleEventType=a.handleEventType.bind(Object(d.a)(a)),a.handleLength=a.handleLength.bind(Object(d.a)(a)),a.handleIsRecurring=a.handleIsRecurring.bind(Object(d.a)(a)),a.handleStartDate=a.handleStartDate.bind(Object(d.a)(a)),a.handleEndDate=a.handleEndDate.bind(Object(d.a)(a)),a.handleDueDate=a.handleDueDate.bind(Object(d.a)(a)),a.setRedirect=a.setRedirect.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"setRedirect",value:function(){this.setState({redirect:!0})}},{key:"editEvent",value:function(e){var t=this;if(e.preventDefault(),""!=this.state.name&&""!=this.state.startDate&&""!=this.state.endDate){var n={sp_name:"editEvent",params:[this.state.name,this.state.description,this.state.group,this.state.location,this.state.eventType,this.state.length,this.state.isRecurring,this.state.startDate,this.state.endDate,this.state.dueDate,this.props.event.UUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){t.props.refresh(),t.setRedirect()}))}}},{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"handleDescription",value:function(e){this.setState({description:e.target.value})}},{key:"handleGroup",value:function(e){this.setState({group:e.target.value})}},{key:"handleLocation",value:function(e){this.setState({location:e.target.value})}},{key:"handleEventType",value:function(e){this.setState({eventType:e.target.value})}},{key:"handleLength",value:function(e){this.setState({length:e.target.value})}},{key:"handleIsRecurring",value:function(e){0==this.state.isRecurring?this.setState({isRecurring:1}):this.setState({isRecurring:0})}},{key:"handleStartDate",value:function(e){this.setState({startDate:e.target.value})}},{key:"handleEndDate",value:function(e){this.setState({endDate:e.target.value})}},{key:"handleDueDate",value:function(e){this.setState({dueDate:e.target.value})}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(v.jsx)(h.a,{to:"/"}):Object(v.jsxs)("div",{style:{padding:"16px"},children:[Object(v.jsx)("h3",{children:"Edit Event"}),Object(v.jsxs)("form",{onSubmit:function(t){return e.editEvent(t)},children:[Object(v.jsx)("p",{children:"Name:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.name,onChange:this.handleName})}),Object(v.jsx)("p",{children:"Description:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.description,onChange:this.handleDescription})}),Object(v.jsx)("p",{children:"Group:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.group,onChange:this.handleGroup})}),Object(v.jsx)("p",{children:"Location:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.location,onChange:this.handleLocation})}),Object(v.jsx)("p",{children:"Event Type:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.eventType,onChange:this.handleEventType})}),Object(v.jsx)("p",{children:"Length:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"number",min:15,value:this.state.length,onChange:this.handleLength})}),Object(v.jsx)("p",{children:"Recurring:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"checkbox",checked:this.state.isRecurring,onChange:this.handleIsRecurring})}),Object(v.jsx)("p",{children:"Start Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.startDate,onChange:this.handleStartDate})}),Object(v.jsx)("p",{children:"End Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.endDate,onChange:this.handleEndDate})}),Object(v.jsx)("p",{children:"Due Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.dueDate,onChange:this.handleDueDate})}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"submit",class:"greenbutton",value:"Save"})})]})]})}}]),n}(r.a.Component);function q(e){var t=Object(h.h)().UUID,n=e.events.find((function(e){return e.UUID===t}));return Object(v.jsx)(A,{event:n,refresh:e.refresh})}var Y=n(14),B=n(50),F=null;function z(){var e=new F.visualization.DataTable;e.addColumn("string","Topping"),e.addColumn("number","Slices"),e.addRows([["Mushrooms",3],["Onions",1],["Olives",1],["Zucchini",1],["Pepperoni",2]]);var t={title:"How Much Pizza I Ate Last Night",width:window.innerWidth,height:window.innerHeight},n=new F.visualization.PieChart(document.getElementById("pizzaChart"));console.log("drawing"),n.draw(e,t)}var W=function(e){var t=e.google,n=e.width,r=e.height,i=Object(a.useState)(null),s=Object(Y.a)(i,2),o=s[0],l=s[1];return F=t,Object(a.useEffect)((function(){if(t&&!o){var e=new t.visualization.DataTable;e.addColumn("string","Topping"),e.addColumn("number","Slices"),e.addRows([["Mushrooms",3],["Onions",1],["Olives",1],["Zucchini",1],["Pepperoni",2]]);var a={title:"How Much Pizza I Ate Last Night",width:n,height:r},i=new t.visualization.PieChart(document.getElementById("pizzaChart"));console.log("drawing"),i.draw(e,a),l(i),window.addEventListener("resize",z)}}),[t,o]),Object(v.jsxs)(v.Fragment,{children:[!t&&Object(v.jsx)(B.a,{}),Object(v.jsx)("button",{onClick:z,children:"Redraw"}),Object(v.jsx)("div",{id:"pizzaChart",className:t?"":"d-none",style:{width:"100%",height:"100%",margin:"auto"}})]})};var J=function(){var e=Object(a.useState)(null),t=Object(Y.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){if(!n){var e=document.head,t=document.getElementById("googleChartsScript");t?window.google&&window.google.charts&&window.google.visualization&&r(window.google):((t=document.createElement("script")).src="https://www.gstatic.com/charts/loader.js",t.id="googleChartsScript",t.onload=function(){window.google&&window.google.charts&&(window.google.charts.load("current",{packages:["corechart"]}),window.google.charts.setOnLoadCallback((function(){return r(window.google)})))},e.appendChild(t))}return function(){var e=document.getElementById("googleChartsScript");e&&e.remove()}}),[n]),n},G=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).updateDimensions=function(){console.log("updating dimensions"),a.setState({chartWidth:window.innerWidth,chartHeight:window.innerHeight})},a.state={results:[],data:[],loaded:!1,chartWidth:window.innerWidth,chartHeight:window.innerHeight},a.createCustomTooltip=a.createCustomTooltip.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"createCustomTooltip",value:function(e){var t="<ol>";return e.split(";").forEach((function(e){t+="<li>"+e+"</li>"})),t+"</ol>"}},{key:"getResults",value:function(){var e=this,t={sp_name:"getResults_Collapsed",params:[this.props.eventUUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.state.data.push(["Date and Time","Available",{role:"tooltip",p:{html:!0}},"Not Available",{role:"tooltip",p:{html:!0}}]),t.forEach((function(t){var n=t.window_startTime.slice(4,16)+"\n"+t.window_startTime.slice(17,22)+"-"+t.window_endTime.slice(17,22);e.state.data.push([n,t.available_cnt,e.createCustomTooltip(t.available_names),t.not_available_cnt,e.createCustomTooltip(t.not_available_names)])})),e.setState({loaded:!0})}))}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),this.getResults()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){console.log("rendering");var e=this.state,t=e.results,n=(e.data,e.loaded),a=e.chartWidth,r=e.chartHeight;return console.log(a),console.log(r),n?(console.log("loaded"),Object(v.jsxs)("div",{style:{padding:"16px",width:a,height:r},children:[Object(v.jsx)("h3",{children:"Results"}),Object(v.jsx)("div",{children:t}),Object(v.jsx)(W,{google:this.props.google,width:a,height:r})]})):Object(v.jsx)("div",{})}}]),n}(r.a.Component);function K(e){var t=Object(h.h)().UUID,n=J();return Object(v.jsx)(G,{eventUUID:t,google:n})}var Z=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={events:[],responses:[],loaded:!1},a.getResponses=a.getResponses.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"getEvents",value:function(e){var t=this;fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sp_name:"getEvents",params:[]})}).then((function(e){return e.json()})).then((function(n){var a=[];n.forEach((function(e){a.push(e)})),t.setState({events:a,loaded:!0}),e&&e()}))}},{key:"getResponses",value:function(e){var t=this;fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sp_name:"getResponses",params:[]})}).then((function(e){return e.json()})).then((function(n){var a=[];n.forEach((function(e){a.push(e)})),t.setState({responses:a}),t.getEvents(e)}))}},{key:"componentDidMount",value:function(){this.getResponses()}},{key:"render",value:function(){var e=this.state,t=e.events,n=e.responses;return e.loaded?Object(v.jsxs)("div",{children:[Object(v.jsx)(L,{loggedIn:!0}),Object(v.jsxs)(h.d,{children:[Object(v.jsx)(h.b,{path:"/",element:Object(v.jsx)(j,{events:t,responses:n,refresh:this.getResponses})}),Object(v.jsx)(h.b,{path:"/respond/:UUID",element:Object(v.jsx)(H,{refresh:this.getResponses})}),Object(v.jsx)(h.b,{path:"/create",element:Object(v.jsx)(N,{refresh:this.getResponses})}),Object(v.jsx)(h.b,{path:"/edit/:UUID",element:Object(v.jsx)(q,{events:t,refresh:this.getResponses})}),Object(v.jsx)(h.b,{path:"/results/:UUID",element:Object(v.jsx)(K,{})})]})]}):Object(v.jsx)("div",{})}}]),n}(r.a.Component),Q=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(Z,{})})}}]),n}(r.a.Component),V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};s.a.render(Object(v.jsxs)(p.a,{children:[Object(v.jsx)(Q,{})," "]}),document.getElementById("root")),V()}},[[48,1,2]]]);
//# sourceMappingURL=main.db4a52c4.chunk.js.map