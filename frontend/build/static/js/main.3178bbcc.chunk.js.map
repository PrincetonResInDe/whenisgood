{"version":3,"sources":["WeekCalendar/Utils.js","WeekCalendar/WeekCalendar.js","WeekCalendar/CalendarHeader.js","WeekCalendar/CalendarBody.js","WeekCalendar/DayColumn.js","WeekCalendar/ScaleColumn.js","WeekCalendar/HeaderCell.js","WeekCalendar/DayCell.js","WeekCalendar/Event.js","WeekCalendar/Modal.js","WeekCalendar/constants.js","Home.js","gcal.js","StandardCalendar.js","Respond.js","Create.js","Navbar.js","Edit.js","Results.js","Main.js","App.js","reportWebVitals.js","index.js"],"names":["Object","defineProperty","exports","value","getOffset","time","midnight","_moment2","default","startOf","diff","getMoment","duration","numberOfUnits","offset","arguments","length","undefined","h","m","add","getNumberOfCells","getIntervalsByDuration","startTime","endTime","startIndex","endIndex","start","end","result","i","clone","interval","push","lastElement","pop","format","hour","minute","getDayIntervals","day","scaleIntervals","map","scaleInterval","second","getIntervals","diffDays","startInterval","endInterval","obj","_moment","require","__esModule","isUpRound","testTime","Math","ceil","floor","_extends","assign","target","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","Utils","newObj","_interopRequireWildcard","_CalendarHeader2","_CalendarBody2","_ScaleColumn2","_HeaderCell2","_DayCell2","_Event2","_Modal2","_constants","propTypes","firstDay","object","numberOfDays","number","scaleHeaderTitle","string","headerCellComponent","func","dayFormat","scaleUnit","scaleFormat","cellHeight","dayCellComponent","selectedIntervals","array","onIntervalSelect","onIntervalUpdate","onIntervalRemove","eventComponent","onEventClick","modalComponent","useModal","bool","showModalCase","arrayOf","eventSpacing","defaultProps","ACTION_TYPES","CREATE","EDIT","WeekCalendar","_React$Component","instance","TypeError","_classCallCheck","this","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","_initialiseProps","state","columnDimensions","scrollPosition","top","left","startSelectionPosition","preselectedInterval","subClass","superClass","create","constructor","setPrototypeOf","_inherits","calculateColumnDimension","window","addEventListener","handleSelectionStop","nextProps","setState","removeEventListener","_this2","_props","_state","EventComponent","offsetTop","newSelectedIntervals","_loop","dayIndex","intervals","filter","isSame","sort","i1","i2","newIntervals","topInterval","forEach","type","isBefore","apply","index","startY","beforeIntersectionNumber","afterIntersectionNumber","isAfter","availabilityOverlap","groupIntersection","max","endY","width","eventWrapperStyle","height","createElement","className","style","onClick","handleEventClick","bind","setSelectedIntervals","startPosition","mousePosition","min","y","x","lastSelectedColumn","overlayStyle","_props2","_state2","currentCase","updateEvent","includes","ModalComponent","closeModule","onRemove","removePreselectedInterval","onSave","submitPreselectedInterval","actionType","_props3","isSelection","onScroll","handleScroll","onSelectionStart","handleSelectionStart","onCellMouseEnter","handleCellMouseEnter","renderSelectedIntervals","renderOverlay","renderModal","Component","_this3","columnWidth","columnElement","document","querySelectorAll","getBoundingClientRect","e","scrollTop","scrollLeft","col","row","button","_props4","_state3","endCol","endRow","minDayIndex","maxDayIndex","startDay","endDay","minCellIndex","maxCellIndex","startSelectionTime","endSelectionTime","_state4","newValue","_state5","oEvent","CalendarHeader","isRequired","HeaderCell","weekdayColumns","totalWidth","date","newCell","_DayColumn2","_Utils","CalendarBody","colPos","dayIntervals","DayColumn","_ref","_temp","_len","args","Array","_key","concat","handleMouseEnter","handleStartSelection","DayCell","dayCells","rowPos","onMouseEnter","startSelection","ScaleColumn","lineHeight","renderScaleCell","_React$PureComponent","PureComponent","handleMouseDown","onMouseDown","role","Event","Modal","handleRemove","handleSave","input","renderText","ref","el","placeholder","defaultValue","EventLink","deleteEvent","request","sp_name","params","event","UUID","fetch","method","headers","body","JSON","stringify","then","data","refresh","respond","edit","results","Card","Body","Title","Text","Link","to","React","ResponseLink","response","Home","eventLinks","responseLinks","events","responses","padding","display","flexWrap","gapi","CLIENT_ID","API_KEY","DISCOVERY_DOCS","SCOPES","callback","handleClientLoad","calendarState","callbackFunc","load","client","init","apiKey","clientId","discoveryDocs","scope","auth2","getAuthInstance","isSignedIn","listen","updateSigninStatus","get","error","handleAuthClick","signIn","calendar","list","moment","items","uid","lastUid","dateTime","summary","StandardCalendar","handleEventRemove","findIndex","splice","handleEventUpdate","handleSelect","loaded","updateAvailabilities","setLoaded","json","avails","avail","availabilityString","utc","alert","textAlign","class","disabled","RespondPage","name","description","startDate","endDate","isRecurring","eventUUID","addResponse","getEvent","Respond","useParams","Create","redirect","addEvent","handleName","handleDescription","handleStartDate","handleEndDate","setRedirect","preventDefault","onSubmit","onChange","Navbar","loggedIn","pointerEvents","href","EditPrefilled","editEvent","Edit","find","ResultsPage","getAllAvailabilities","Results","Main","getResponses","newEvents","newResponses","getEvents","path","element","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3178bbcc.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOffset = getOffset;\nexports.getMoment = getMoment;\nexports.getNumberOfCells = getNumberOfCells;\nexports.getIntervalsByDuration = getIntervalsByDuration;\nexports.getDayIntervals = getDayIntervals;\nexports.getIntervals = getIntervals;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOffset(time) {\n  var midnight = (0, _moment2.default)(time).startOf('day');\n  return time.diff(midnight, 'm');\n}\n\nfunction getMoment(duration, numberOfUnits) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  if (duration * numberOfUnits + offset >= 24 * 60) {\n    return (0, _moment2.default)({ h: 23, m: 59 });\n  }\n  return (0, _moment2.default)({ h: 0, m: 0 }).add(duration * numberOfUnits + offset, 'm');\n}\n\nfunction getNumberOfCells(time, duration, isUpRound) {\n  var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n  var midnight = (0, _moment2.default)(time).startOf('day').add(offset, 'm');\n  var testTime = (0, _moment2.default)(time);\n  if (testTime.format('HH:mm') === '23:59') {\n    testTime.add(1, 'm');\n  }\n  var result = isUpRound ? Math.ceil(testTime.diff(midnight, 'm') / duration) : Math.floor(testTime.diff(midnight, 'm') / duration);\n  if (result < 0) {\n    return 0;\n  }\n  return result;\n}\n\nfunction getIntervalsByDuration(duration, startTime, endTime) {\n  var startIndex = getNumberOfCells(startTime, duration, false);\n  var endIndex = getNumberOfCells(endTime, duration, true);\n  var start = (0, _moment2.default)({ h: 0, m: 0 }).add(duration * startIndex, 'm');\n  var end = void 0;\n  var result = [];\n\n  for (var i = startIndex; i < endIndex; i += 1) {\n    end = start.clone().add(duration, 'm');\n    var interval = {\n      start: start,\n      end: end\n    };\n    result.push(interval);\n    start = end;\n  }\n  var lastElement = result.pop();\n  if (lastElement.end.format('HH:mm') === '00:00') {\n    lastElement = {\n      start: lastElement.start,\n      end: (0, _moment2.default)({ hour: 23, minute: 59 })\n    };\n  }\n  result.push(lastElement);\n  return result;\n}\n\nfunction getDayIntervals(day, scaleIntervals) {\n  return scaleIntervals.map(function (scaleInterval) {\n    var start = (0, _moment2.default)(day).hour(scaleInterval.start.hour()).minute(scaleInterval.start.minute()).second(0);\n    var end = (0, _moment2.default)(day).hour(scaleInterval.end.hour()).minute(scaleInterval.end.minute()).second(0);\n    return {\n      start: start,\n      end: end\n    };\n  });\n}\n\nfunction getIntervals(start, end) {\n  var diffDays = end.diff(start, 'days');\n  var result = [];\n\n  for (var i = 0; i <= diffDays; i += 1) {\n    var startInterval = (0, _moment2.default)(start).add(i, 'day');\n    var endInterval = (0, _moment2.default)(start).add(i, 'day').hour(end.hour()).minute(end.minute()).second(0);\n    result.push({\n      start: startInterval,\n      end: endInterval\n    });\n  }\n\n  return result;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Utils = require('./Utils');\n\nvar Utils = _interopRequireWildcard(_Utils);\n\nvar _CalendarHeader = require('./CalendarHeader');\n\nvar _CalendarHeader2 = _interopRequireDefault(_CalendarHeader);\n\nvar _CalendarBody = require('./CalendarBody');\n\nvar _CalendarBody2 = _interopRequireDefault(_CalendarBody);\n\nvar _ScaleColumn = require('./ScaleColumn');\n\nvar _ScaleColumn2 = _interopRequireDefault(_ScaleColumn);\n\nvar _HeaderCell = require('./HeaderCell');\n\nvar _HeaderCell2 = _interopRequireDefault(_HeaderCell);\n\nvar _DayCell = require('./DayCell');\n\nvar _DayCell2 = _interopRequireDefault(_DayCell);\n\nvar _Event = require('./Event');\n\nvar _Event2 = _interopRequireDefault(_Event);\n\nvar _Modal = require('./Modal');\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  firstDay: _propTypes2.default.object, // the first day in the caledar\n  numberOfDays: _propTypes2.default.number,\n  scaleHeaderTitle: _propTypes2.default.string,\n  headerCellComponent: _propTypes2.default.func,\n  dayFormat: _propTypes2.default.string, // header day format\n\n  startTime: _propTypes2.default.object, // the start time of the scale and calendar\n  endTime: _propTypes2.default.object, // the end time of the scale and calendar\n  scaleUnit: _propTypes2.default.number,\n  scaleFormat: _propTypes2.default.string,\n  cellHeight: _propTypes2.default.number,\n  dayCellComponent: _propTypes2.default.func,\n\n  selectedIntervals: _propTypes2.default.array,\n  onIntervalSelect: _propTypes2.default.func,\n  onIntervalUpdate: _propTypes2.default.func,\n  onIntervalRemove: _propTypes2.default.func,\n\n  eventComponent: _propTypes2.default.func,\n  onEventClick: _propTypes2.default.func,\n\n  modalComponent: _propTypes2.default.func,\n  useModal: _propTypes2.default.bool,\n  showModalCase: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  eventSpacing: _propTypes2.default.number\n};\n\nvar defaultProps = {\n  firstDay: (0, _moment2.default)(),\n  numberOfDays: 7,\n  scaleHeaderTitle: '',\n  headerCellComponent: _HeaderCell2.default,\n  dayFormat: 'dd., DD.MM',\n  startTime: (0, _moment2.default)({ h: 0, m: 0 }),\n  endTime: (0, _moment2.default)({ h: 23, m: 59 }),\n  scaleUnit: 15,\n  scaleFormat: 'HH:mm',\n  cellHeight: 25,\n  dayCellComponent: _DayCell2.default,\n  selectedIntervals: [],\n  eventComponent: _Event2.default,\n  modalComponent: _Modal2.default,\n  useModal: true,\n  showModalCase: [_constants.ACTION_TYPES.CREATE, _constants.ACTION_TYPES.EDIT],\n  eventSpacing: 15\n};\n\nvar WeekCalendar = function (_React$Component) {\n  _inherits(WeekCalendar, _React$Component);\n\n  function WeekCalendar(props) {\n    _classCallCheck(this, WeekCalendar);\n\n    var _this = _possibleConstructorReturn(this, (WeekCalendar.__proto__ || Object.getPrototypeOf(WeekCalendar)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var scaleUnit = props.scaleUnit,\n        startTime = props.startTime,\n        endTime = props.endTime;\n\n    var scaleIntervals = Utils.getIntervalsByDuration(scaleUnit, startTime, endTime);\n\n    _this.state = {\n      scaleIntervals: scaleIntervals,\n      columnDimensions: [],\n      scrollPosition: {\n        top: 0,\n        left: 0\n      },\n      startSelectionPosition: null,\n      preselectedInterval: null\n    };\n    return _this;\n  }\n\n  _createClass(WeekCalendar, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.calculateColumnDimension();\n      window.addEventListener('resize', this.calculateColumnDimension);\n      window.addEventListener('mouseup', this.handleSelectionStop);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.scaleUnit !== this.props.scaleUnit || nextProps.startTime !== this.props.startTime || nextProps.endTime !== this.props.endTime) {\n        var scaleIntervals = Utils.getIntervalsByDuration(nextProps.scaleUnit, nextProps.startTime, nextProps.endTime);\n        this.setState({\n          scaleIntervals: scaleIntervals\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.calculateColumnDimension);\n      window.removeEventListener('mouseup', this.handleSelectionStop);\n    }\n  }, {\n    key: 'renderSelectedIntervals',\n    value: function renderSelectedIntervals() {\n      var _this2 = this;\n\n      var _props = this.props,\n          firstDay = _props.firstDay,\n          numberOfDays = _props.numberOfDays,\n          cellHeight = _props.cellHeight,\n          scaleUnit = _props.scaleUnit,\n          selectedIntervals = _props.selectedIntervals,\n          eventSpacing = _props.eventSpacing;\n      var _state = this.state,\n          columnDimensions = _state.columnDimensions,\n          scaleIntervals = _state.scaleIntervals;\n\n      var result = [];\n      if (columnDimensions.length === 0 || selectedIntervals.length === 0) {\n        return result;\n      }\n      var EventComponent = this.props.eventComponent;\n      var offsetTop = Utils.getOffset(scaleIntervals[0].start);\n      var newSelectedIntervals = [];\n\n      var _loop = function _loop(dayIndex) {\n        var day = (0, _moment2.default)(firstDay).startOf('day').add(dayIndex, 'day');\n        var intervals = selectedIntervals.filter(function (interval) {\n          return interval.start.isSame(day, 'day') || interval.end.isSame(day, 'day');\n        });\n        if (intervals.length > 0) {\n          intervals.sort(function (i1, i2) {\n            return i1.start.diff(i2.start, 'minutes');\n          });\n\n          // merge overlapping availability intervals\n          var newIntervals = [];\n          var topInterval = null;\n          intervals.forEach(function (interval) {\n            if (interval.type == \"event\") {\n              if (topInterval == null) {\n                topInterval = interval;\n              }\n              else {\n                if (topInterval.end.isBefore(interval.start)) {\n                  newIntervals.push(topInterval);\n                  topInterval = interval;\n                }\n                else if (topInterval.end.isBefore(interval.end)) {\n                  topInterval.end = interval.end;\n                }\n              }\n            }\n            else {\n              newIntervals.push(interval);\n            }\n          });\n          if (topInterval != null) {\n            newIntervals.push(topInterval);\n          }\n          intervals = newIntervals;\n\n          intervals.sort(function (i1, i2) { // another sort is needed because merging doesnt happen in order\n            return i1.start.diff(i2.start, 'minutes'); // make this more efficient later\n          });\n\n          newSelectedIntervals.push.apply(newSelectedIntervals, intervals);\n\n          intervals.forEach(function (interval, index, array) {\n            var startY = 0;\n            if (!interval.start.isBefore(day)) {\n              startY = Utils.getNumberOfCells(interval.start, scaleUnit, false, offsetTop);\n            }\n\n            if (startY > scaleIntervals.length) {\n              return;\n            }\n\n            var beforeIntersectionNumber = array.filter(function (i, i1) {\n              return i1 < index && interval.type == \"gcalevent\" && interval.start.isBefore(i.end); // interval.type == \"gcalevent\" && \n            }).length;\n\n            var afterIntersectionNumber = array.filter(function (i, i1) {\n              return i1 > index && interval.type == \"gcalevent\" && interval.end.isAfter(i.start);\n            }).length;\n\n            var availabilityOverlap = array.filter(function (i, i1) {\n              return interval.type == \"gcalevent\" && i.type == \"event\" && ((i1 < index && interval.start.isBefore(i.end)) || (i1 > index && interval.end.isAfter(i.start))); // interval.type == \"gcalevent\" && \n            }).length;\n            //console.log(availabilityOverlap);\n            \n            var groupIntersection = beforeIntersectionNumber + afterIntersectionNumber + 1 - Math.max(0, availabilityOverlap-1);\n\n            var endY = Utils.getNumberOfCells(interval.end, scaleUnit, true, offsetTop);\n            if (endY > scaleIntervals.length) {\n              endY = scaleIntervals.length;\n            }\n            var top = startY * cellHeight;\n            var width;\n            var left;\n\n            if (interval.type == \"event\") {\n              width = (columnDimensions[dayIndex].width - eventSpacing)\n              //left = columnDimensions[dayIndex].left + (width + Math.floor(eventSpacing / groupIntersection));\n            }\n            else {\n              width = (columnDimensions[dayIndex].width - eventSpacing) / groupIntersection;\n              //left = columnDimensions[dayIndex].left + (width + Math.floor(eventSpacing / groupIntersection)) * beforeIntersectionNumber;\n            }\n\n            // need to fix this because gcal events keep getting smaller when green selection added\n            left = columnDimensions[dayIndex].left + (width + Math.floor(eventSpacing / groupIntersection)) * (beforeIntersectionNumber + Math.max(0, availabilityOverlap-1)); // + afterIntersectionNumber\n            var height = (endY - startY) * cellHeight;\n            var eventWrapperStyle = {\n              top: top,\n              left: left,\n              width: width,\n              height: height\n            };\n            var eventComponent = _react2.default.createElement(\n              'div',\n              {\n                className: 'weekCalendar__overlay',\n                key: dayIndex * 20000 + index,\n                style: eventWrapperStyle,\n                onClick: _this2.handleEventClick.bind(_this2, interval)\n              },\n              _react2.default.createElement(EventComponent, interval)\n            );\n            result.push(eventComponent);\n          });\n        }\n      };\n\n      for (var dayIndex = 0; dayIndex < numberOfDays; dayIndex += 1) {\n        _loop(dayIndex);\n      }\n      _props.setSelectedIntervals(newSelectedIntervals);\n      return result;\n    }\n  }, {\n    key: 'renderOverlay',\n    value: function renderOverlay() {\n      if (this.state.startSelectionPosition != null) {\n        var startPosition = this.state.startSelectionPosition;\n        var mousePosition = this.state.mousePosition;\n\n\n        var top = Math.min(startPosition.y, mousePosition.y) * this.props.cellHeight;\n        var left = this.state.columnDimensions[Math.min(startPosition.x, mousePosition.x)].left;\n\n        var lastSelectedColumn = this.state.columnDimensions[Math.max(startPosition.x, mousePosition.x)];\n        var width = lastSelectedColumn.left - left + lastSelectedColumn.width;\n        var height = (Math.max(startPosition.y, mousePosition.y) + 1) * this.props.cellHeight - top;\n        var overlayStyle = {\n          top: top,\n          left: left,\n          width: width,\n          height: height\n        };\n        return _react2.default.createElement('div', {\n          className: 'weekCalendar__overlay weekCalendar__overlay_status_selection',\n          style: overlayStyle\n        });\n      }\n      return null;\n    }\n  }, {\n    key: 'renderModal',\n    value: function renderModal() {\n      var _props2 = this.props,\n          useModal = _props2.useModal,\n          showModalCase = _props2.showModalCase;\n      var _state2 = this.state,\n          preselectedInterval = _state2.preselectedInterval,\n          updateEvent = _state2.updateEvent;\n\n      var currentCase = updateEvent ? _constants.ACTION_TYPES.EDIT : _constants.ACTION_TYPES.CREATE;\n      var shouldRenderModal = preselectedInterval && useModal && showModalCase.includes(currentCase);\n\n      if (shouldRenderModal) {\n        var ModalComponent = this.props.modalComponent;\n        return _react2.default.createElement(\n          'div',\n          { className: 'calendarModal' },\n          _react2.default.createElement('div', { className: 'calendarModal__backdrop', onClick: this.closeModule }),\n          _react2.default.createElement(\n            'div',\n            { className: 'calendarModal__content' },\n            _react2.default.createElement(ModalComponent, _extends({}, preselectedInterval, {\n              onRemove: this.removePreselectedInterval,\n              onSave: this.submitPreselectedInterval,\n              actionType: currentCase\n            }))\n          )\n        );\n      }\n\n      return null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          firstDay = _props3.firstDay,\n          numberOfDays = _props3.numberOfDays,\n          headerCellComponent = _props3.headerCellComponent,\n          dayFormat = _props3.dayFormat,\n          scaleUnit = _props3.scaleUnit,\n          scaleFormat = _props3.scaleFormat,\n          cellHeight = _props3.cellHeight,\n          dayCellComponent = _props3.dayCellComponent,\n          scaleHeaderTitle = _props3.scaleHeaderTitle;\n\n\n      var isSelection = this.state.startSelectionPosition != null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: isSelection ? 'weekCalendar weekCalendar__status_selection' : 'weekCalendar' },\n        _react2.default.createElement(\n          'div',\n          { className: 'weekCalendar__scaleHeader' },\n          _react2.default.createElement(\n            'span',\n            null,\n            scaleHeaderTitle\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'weekCalendar__header', style: { left: -this.state.scrollPosition.left } },\n          _react2.default.createElement(_CalendarHeader2.default, {\n            firstDay: firstDay,\n            numberOfDays: numberOfDays,\n            dayFormat: dayFormat,\n            columnDimensions: this.state.columnDimensions,\n            headerCellComponent: headerCellComponent\n          })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'weekCalendar__scaleColumn', style: { top: -this.state.scrollPosition.top } },\n          _react2.default.createElement(_ScaleColumn2.default, {\n            scaleUnit: this.props.scaleUnit,\n            scaleFormat: scaleFormat,\n            scaleIntervals: this.state.scaleIntervals,\n            cellHeight: this.props.cellHeight\n          })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'weekCalendar__content', onScroll: this.handleScroll },\n          _react2.default.createElement(_CalendarBody2.default, {\n            firstDay: firstDay,\n            numberOfDays: numberOfDays,\n            scaleUnit: scaleUnit,\n            scaleIntervals: this.state.scaleIntervals,\n            cellHeight: cellHeight,\n            dayCellComponent: dayCellComponent,\n            onSelectionStart: this.handleSelectionStart,\n            onCellMouseEnter: this.handleCellMouseEnter\n          }),\n          this.renderSelectedIntervals(),\n          this.renderOverlay()\n        ),\n        this.renderModal()\n      );\n    }\n  }]);\n\n  return WeekCalendar;\n}(_react2.default.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.calculateColumnDimension = function () {\n    var numberOfDays = _this3.props.numberOfDays;\n\n    var columnDimensions = [];\n    for (var i = 0; i < numberOfDays; i += 1) {\n      var left = i === 0 ? 0 : columnDimensions[i - 1].left + columnDimensions[i - 1].width;\n      var columnWidth = 0;\n\n      var columnElement = document.querySelectorAll('[data-colpos=\\'' + i + '\\']')[0];\n      if (columnElement) {\n        columnWidth = columnElement.getBoundingClientRect().width;\n      }\n      columnDimensions.push({\n        left: left,\n        width: columnWidth\n      });\n    }\n    _this3.setState({ columnDimensions: columnDimensions });\n  };\n\n  this.handleScroll = function (e) {\n    _this3.setState({\n      scrollPosition: {\n        top: e.target.scrollTop,\n        left: e.target.scrollLeft\n      }\n    });\n  };\n\n  this.handleCellMouseEnter = function (col, row) {\n    if (_this3.state.startSelectionPosition != null) {\n      _this3.setState({\n        mousePosition: {\n          x: col,\n          y: row\n        }\n      });\n    }\n  };\n\n  this.handleSelectionStart = function (col, row) {\n    var startSelectionPosition = {\n      x: col,\n      y: row\n    };\n    _this3.setState({\n      startSelectionPosition: startSelectionPosition,\n      mousePosition: startSelectionPosition\n    });\n  };\n\n  this.handleSelectionStop = function (e) {\n    if (e.button !== 0) {\n      return;\n    }\n\n    var _props4 = _this3.props,\n        firstDay = _props4.firstDay,\n        scaleUnit = _props4.scaleUnit,\n        useModal = _props4.useModal,\n        showModalCase = _props4.showModalCase;\n    var _state3 = _this3.state,\n        startSelectionPosition = _state3.startSelectionPosition,\n        mousePosition = _state3.mousePosition,\n        scaleIntervals = _state3.scaleIntervals;\n\n\n    if (startSelectionPosition == null) {\n      return;\n    }\n\n    var endCol = mousePosition.x;\n    var endRow = mousePosition.y;\n\n    var minDayIndex = Math.min(startSelectionPosition.x, endCol);\n    var maxDayIndex = Math.max(startSelectionPosition.x, endCol);\n\n    var startDay = (0, _moment2.default)(firstDay).add(minDayIndex, 'days');\n    var endDay = (0, _moment2.default)(firstDay).add(maxDayIndex, 'days');\n\n    var minCellIndex = Math.min(startSelectionPosition.y, endRow);\n    var maxCellIndex = Math.max(startSelectionPosition.y, endRow) + 1;\n    var offsetTop = Utils.getOffset(scaleIntervals[0].start);\n    var startSelectionTime = Utils.getMoment(scaleUnit, minCellIndex, offsetTop);\n    var endSelectionTime = Utils.getMoment(scaleUnit, maxCellIndex, offsetTop);\n\n    var start = (0, _moment2.default)(startDay).hour(startSelectionTime.hour()).minute(startSelectionTime.minute()).second(0);\n    var end = (0, _moment2.default)(endDay).hour(endSelectionTime.hour()).minute(endSelectionTime.minute()).second(0);\n\n    if (useModal && showModalCase.includes(_constants.ACTION_TYPES.CREATE)) {\n      var preselectedInterval = {\n        start: start,\n        end: end\n      };\n      _this3.setState({\n        preselectedInterval: preselectedInterval,\n        updateEvent: false\n      });\n    } else {\n      var result = Utils.getIntervals(start, end);\n      if (_this3.props.onIntervalSelect) {\n        _this3.props.onIntervalSelect(result);\n      }\n    }\n\n    _this3.setState({\n      startSelectionPosition: null,\n      mousePosition: null\n    });\n  };\n\n  this.removePreselectedInterval = function () {\n    var _state4 = _this3.state,\n        preselectedInterval = _state4.preselectedInterval,\n        updateEvent = _state4.updateEvent;\n\n    if (updateEvent && _this3.props.onIntervalRemove) {\n      _this3.props.onIntervalRemove(preselectedInterval);\n    }\n    _this3.setState({ preselectedInterval: null });\n  };\n\n  this.submitPreselectedInterval = function (newValue) {\n    var _state5 = _this3.state,\n        preselectedInterval = _state5.preselectedInterval,\n        updateEvent = _state5.updateEvent;\n\n\n    if (updateEvent) {\n      if (_this3.props.onIntervalUpdate) {\n        _this3.props.onIntervalUpdate(_extends({}, preselectedInterval, newValue));\n      }\n    } else if (_this3.props.onIntervalSelect) {\n      var _intervals = Utils.getIntervals(preselectedInterval.start, preselectedInterval.end);\n      var result = _intervals.map(function (interval) {\n        return _extends({}, interval, newValue);\n      });\n      _this3.props.onIntervalSelect(result);\n    }\n\n    _this3.setState({ preselectedInterval: null });\n  };\n\n  this.closeModule = function () {\n    _this3.setState({\n      preselectedInterval: null\n    });\n  };\n\n  this.handleEventClick = function (oEvent) {\n    if (_this3.props.onEventClick) {\n      _this3.props.onEventClick(oEvent);\n    }\n    _this3.setState({\n      preselectedInterval: oEvent,\n      updateEvent: true\n    });\n  };\n};\n\nWeekCalendar.propTypes = propTypes;\nWeekCalendar.defaultProps = defaultProps;\n\nexports.default = WeekCalendar;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CalendarHeader = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  firstDay: _propTypes2.default.object.isRequired,\n  numberOfDays: _propTypes2.default.number.isRequired,\n  headerCellComponent: _propTypes2.default.func.isRequired,\n  dayFormat: _propTypes2.default.string.isRequired,\n  columnDimensions: _propTypes2.default.array.isRequired\n};\n\nvar CalendarHeader = exports.CalendarHeader = function (_React$Component) {\n  _inherits(CalendarHeader, _React$Component);\n\n  function CalendarHeader() {\n    _classCallCheck(this, CalendarHeader);\n\n    return _possibleConstructorReturn(this, (CalendarHeader.__proto__ || Object.getPrototypeOf(CalendarHeader)).apply(this, arguments));\n  }\n\n  _createClass(CalendarHeader, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      // for columnDimensions return new object\n      return nextProps.numberOfDays !== this.props.numberOfDays || !nextProps.firstDay.isSame(this.props.firstDay, 'day') || nextProps.columnDimensions !== this.props.columnDimensions;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          firstDay = _props.firstDay,\n          numberOfDays = _props.numberOfDays,\n          dayFormat = _props.dayFormat,\n          columnDimensions = _props.columnDimensions;\n\n\n      var HeaderCell = this.props.headerCellComponent;\n\n      if (columnDimensions.length === 0) {\n        return null;\n      }\n\n      var weekdayColumns = [];\n      var totalWidth = 0;\n\n      for (var i = 0; i < numberOfDays; i += 1) {\n        var date = (0, _moment2.default)(firstDay).add(i, 'd');\n        var width = columnDimensions[i].width;\n\n        totalWidth += width;\n        var newCell = _react2.default.createElement(\n          'div',\n          { key: i, className: 'weekCalendar__headerColumn', style: { width: width } },\n          _react2.default.createElement(HeaderCell, { date: date, dayFormat: dayFormat })\n        );\n        weekdayColumns.push(newCell);\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { style: { width: totalWidth }, className: 'weekCalendar__headerWrapper' },\n        weekdayColumns\n      );\n    }\n  }]);\n\n  return CalendarHeader;\n}(_react2.default.Component);\n\nCalendarHeader.propTypes = propTypes;\n\nexports.default = CalendarHeader;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _DayColumn = require('./DayColumn');\n\nvar _DayColumn2 = _interopRequireDefault(_DayColumn);\n\nvar _Utils = require('./Utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  firstDay: _propTypes2.default.object.isRequired,\n  numberOfDays: _propTypes2.default.number.isRequired,\n  scaleUnit: _propTypes2.default.number.isRequired,\n  scaleIntervals: _propTypes2.default.array.isRequired,\n  cellHeight: _propTypes2.default.number.isRequired,\n  dayCellComponent: _propTypes2.default.func.isRequired,\n  onSelectionStart: _propTypes2.default.func.isRequired,\n  onCellMouseEnter: _propTypes2.default.func.isRequired\n};\n\nvar CalendarBody = function (_React$Component) {\n  _inherits(CalendarBody, _React$Component);\n\n  function CalendarBody() {\n    _classCallCheck(this, CalendarBody);\n\n    return _possibleConstructorReturn(this, (CalendarBody.__proto__ || Object.getPrototypeOf(CalendarBody)).apply(this, arguments));\n  }\n\n  _createClass(CalendarBody, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.scaleUnit !== this.props.scaleUnit || nextProps.cellHeight !== this.props.cellHeight || nextProps.numberOfDays !== this.props.numberOfDays || !nextProps.firstDay.isSame(this.props.firstDay, 'day');\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          firstDay = _props.firstDay,\n          numberOfDays = _props.numberOfDays,\n          scaleUnit = _props.scaleUnit,\n          scaleIntervals = _props.scaleIntervals,\n          cellHeight = _props.cellHeight,\n          dayCellComponent = _props.dayCellComponent;\n\n\n      var weekdayColumns = [];\n      for (var i = 0; i < numberOfDays; i += 1) {\n        var day = (0, _moment2.default)(firstDay).add(i, 'd');\n        var intervals = (0, _Utils.getDayIntervals)(day, scaleIntervals);\n        weekdayColumns.push(_react2.default.createElement(_DayColumn2.default, {\n          key: i,\n          colPos: i,\n          cellHeight: cellHeight,\n          dayCellComponent: dayCellComponent,\n          scaleUnit: scaleUnit,\n          dayIntervals: intervals,\n          onSelectionStart: this.props.onSelectionStart,\n          onCellMouseEnter: this.props.onCellMouseEnter\n        }));\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'calendarBody' },\n        _react2.default.createElement(\n          'div',\n          { className: 'calendarBody__row' },\n          weekdayColumns\n        )\n      );\n    }\n  }]);\n\n  return CalendarBody;\n}(_react2.default.Component);\n\nCalendarBody.propTypes = propTypes;\n\nexports.default = CalendarBody;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  colPos: _propTypes2.default.number.isRequired,\n  dayIntervals: _propTypes2.default.array.isRequired,\n  cellHeight: _propTypes2.default.number.isRequired,\n  dayCellComponent: _propTypes2.default.func.isRequired,\n  onSelectionStart: _propTypes2.default.func.isRequired,\n  onCellMouseEnter: _propTypes2.default.func.isRequired\n};\n\nvar DayColumn = function (_React$Component) {\n  _inherits(DayColumn, _React$Component);\n\n  function DayColumn() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, DayColumn);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DayColumn.__proto__ || Object.getPrototypeOf(DayColumn)).call.apply(_ref, [this].concat(args))), _this), _this.handleMouseEnter = function (col, row) {\n      return function () {\n        _this.props.onCellMouseEnter(col, row);\n      };\n    }, _this.handleStartSelection = function (col, row) {\n      return function () {\n        _this.props.onSelectionStart(col, row);\n      };\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(DayColumn, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          cellHeight = _props.cellHeight,\n          colPos = _props.colPos,\n          dayIntervals = _props.dayIntervals;\n\n      var DayCell = this.props.dayCellComponent;\n\n      var dayCells = dayIntervals.map(function (interval, rowPos) {\n        return _react2.default.createElement(\n          'div',\n          {\n            key: rowPos,\n            className: 'calendarBody__cell',\n            style: { height: cellHeight },\n            onMouseEnter: _this2.handleMouseEnter(colPos, rowPos)\n          },\n          _react2.default.createElement(DayCell, {\n            colPos: colPos,\n            rowPos: rowPos,\n            startTime: interval.start,\n            endTime: interval.end,\n            cellHeight: _this2.props.cellHeight,\n            startSelection: _this2.handleStartSelection(colPos, rowPos)\n          })\n        );\n      });\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'calendarBody__column', 'data-colpos': colPos },\n        dayCells\n      );\n    }\n  }]);\n\n  return DayColumn;\n}(_react2.default.Component);\n\nDayColumn.propTypes = propTypes;\nexports.default = DayColumn;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  scaleUnit: _propTypes2.default.number.isRequired,\n  scaleFormat: _propTypes2.default.string.isRequired,\n  scaleIntervals: _propTypes2.default.array.isRequired,\n  cellHeight: _propTypes2.default.number.isRequired\n};\n\nvar ScaleColumn = function (_React$Component) {\n  _inherits(ScaleColumn, _React$Component);\n\n  function ScaleColumn() {\n    _classCallCheck(this, ScaleColumn);\n\n    return _possibleConstructorReturn(this, (ScaleColumn.__proto__ || Object.getPrototypeOf(ScaleColumn)).apply(this, arguments));\n  }\n\n  _createClass(ScaleColumn, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.scaleUnit !== this.props.scaleUnit || nextProps.cellHeight !== this.props.cellHeight;\n    }\n  }, {\n    key: 'renderScaleCell',\n    value: function renderScaleCell(scaleInterval, index) {\n      var _props = this.props,\n          cellHeight = _props.cellHeight,\n          scaleFormat = _props.scaleFormat;\n\n      return _react2.default.createElement(\n        'div',\n        { key: index, className: 'weekCalendar__scaleCell', style: { height: cellHeight, lineHeight: cellHeight + 'px' } },\n        _react2.default.createElement(\n          'span',\n          null,\n          scaleInterval.start.format(scaleFormat)\n        )\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var scaleIntervals = this.props.scaleIntervals;\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        scaleIntervals.map(function (scaleInterval, index) {\n          return _this2.renderScaleCell(scaleInterval, index);\n        })\n      );\n    }\n  }]);\n\n  return ScaleColumn;\n}(_react2.default.Component);\n\nScaleColumn.propTypes = propTypes;\nexports.default = ScaleColumn;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  date: _propTypes2.default.object.isRequired,\n  dayFormat: _propTypes2.default.string.isRequired\n};\n\nvar HeaderCell = function (_React$PureComponent) {\n  _inherits(HeaderCell, _React$PureComponent);\n\n  function HeaderCell() {\n    _classCallCheck(this, HeaderCell);\n\n    return _possibleConstructorReturn(this, (HeaderCell.__proto__ || Object.getPrototypeOf(HeaderCell)).apply(this, arguments));\n  }\n\n  _createClass(HeaderCell, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          date = _props.date,\n          dayFormat = _props.dayFormat;\n\n      return _react2.default.createElement(\n        'span',\n        { className: 'title' },\n        date.format(dayFormat)\n      );\n    }\n  }]);\n\n  return HeaderCell;\n}(_react2.default.PureComponent);\n\nHeaderCell.propTypes = propTypes;\nexports.default = HeaderCell;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  startSelection: _propTypes2.default.func.isRequired\n};\n\nvar DayCell = function (_React$Component) {\n  _inherits(DayCell, _React$Component);\n\n  function DayCell() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, DayCell);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DayCell.__proto__ || Object.getPrototypeOf(DayCell)).call.apply(_ref, [this].concat(args))), _this), _this.handleMouseDown = function (e) {\n      if (e.button === 0) {\n        _this.props.startSelection();\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(DayCell, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { onMouseDown: this.handleMouseDown, className: 'dayCell', role: 'presentation' },\n        '\\xA0'\n      );\n    }\n  }]);\n\n  return DayCell;\n}(_react2.default.Component);\n\nDayCell.propTypes = propTypes;\nexports.default = DayCell;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  start: _propTypes2.default.object.isRequired,\n  end: _propTypes2.default.object.isRequired\n};\n\nvar Event = function (_React$PureComponent) {\n  _inherits(Event, _React$PureComponent);\n\n  function Event() {\n    _classCallCheck(this, Event);\n\n    return _possibleConstructorReturn(this, (Event.__proto__ || Object.getPrototypeOf(Event)).apply(this, arguments));\n  }\n\n  _createClass(Event, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          type = _props.type,\n          start = _props.start,\n          end = _props.end,\n          value = _props.value;\n\n      return _react2.default.createElement(\n        'div',\n        { className: type },\n        _react2.default.createElement(\n          'span',\n          null,\n          start.format('HH:mm') + ' - ' + end.format('HH:mm')\n        ),\n        _react2.default.createElement('br', null),\n        _react2.default.createElement('br', null),\n        value\n      );\n    }\n  }]);\n\n  return Event;\n}(_react2.default.PureComponent);\n\nEvent.propTypes = propTypes;\nexports.default = Event;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  start: _propTypes2.default.object.isRequired,\n  end: _propTypes2.default.object.isRequired,\n  value: _propTypes2.default.string,\n  onRemove: _propTypes2.default.func.isRequired,\n  onSave: _propTypes2.default.func.isRequired,\n  actionType: _propTypes2.default.string // eslint-disable-line react/no-unused-prop-types\n};\n\nvar defaultProps = {\n  value: ''\n};\n\nvar Modal = function (_React$Component) {\n  _inherits(Modal, _React$Component);\n\n  function Modal() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Modal.__proto__ || Object.getPrototypeOf(Modal)).call.apply(_ref, [this].concat(args))), _this), _this.handleRemove = function () {\n      _this.props.onRemove();\n    }, _this.handleSave = function () {\n      var value = _this.input.value;\n\n      _this.props.onSave({\n        value: value\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Modal, [{\n    key: 'renderText',\n    value: function renderText() {\n      var _props = this.props,\n          start = _props.start,\n          end = _props.end;\n\n\n      if (start.isSame(end, 'day')) {\n        return _react2.default.createElement(\n          'span',\n          null,\n          start.format('Do MMM., HH:mm') + ' - ' + end.format('HH:mm')\n        );\n      }\n      return _react2.default.createElement(\n        'span',\n        null,\n        start.format('Do MMM.') + ' - ' + end.format('Do MMM.') + ', ' + start.format('HH:mm') + ' - ' + end.format('HH:mm')\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var value = this.props.value;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'customModal' },\n        _react2.default.createElement(\n          'div',\n          { className: 'customModal__text' },\n          this.renderText()\n        ),\n        _react2.default.createElement('input', {\n          ref: function ref(el) {\n            _this2.input = el;\n          },\n          className: 'customModal__input',\n          type: 'text',\n          placeholder: 'Enter something',\n          defaultValue: value\n        }),\n        _react2.default.createElement(\n          'button',\n          { className: 'customModal__button', onClick: this.handleRemove },\n          'Delete'\n        ),\n        _react2.default.createElement(\n          'button',\n          { className: 'customModal__button customModal__button_float_right', onClick: this.handleSave },\n          'Save'\n        )\n      );\n    }\n  }]);\n\n  return Modal;\n}(_react2.default.Component);\n\nModal.propTypes = propTypes;\nModal.defaultProps = defaultProps;\nexports.default = Modal;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\r\n * Generic constants for the calendar.\r\n */\n\n// eslint-disable-next-line import/prefer-default-export\nvar ACTION_TYPES = exports.ACTION_TYPES = {\n  CREATE: 'create',\n  EDIT: 'edit'\n};","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport Card from 'react-bootstrap/Card';\n\nclass EventLink extends React.Component {\n    constructor(props) {\n        super(props);\n        this.deleteEvent = this.deleteEvent.bind(this);\n    }\n    deleteEvent() {\n        const request = {\n            sp_name: \"deleteEvent\",\n            params: [this.props.event.UUID]\n        }\n        fetch(\"/api\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(request),\n        }).then(data => {\n            this.props.refresh();\n        });\n    }\n    render() {\n        let respond = \"/respond/\" + this.props.event[\"UUID\"]\n        let edit = \"/edit/\" + this.props.event[\"UUID\"]\n        let results = \"/results/\" + this.props.event[\"UUID\"]\n        return (\n            <div>\n                <Card style={{width:'18rem', height:'12rem'}}>\n                    <Card.Body>\n                        <div style={{height:'8rem'}}>\n                            <Card.Title>{this.props.event[\"name\"]}</Card.Title>\n                            <Card.Text>\n                                {this.props.event[\"description\"]}\n                            </Card.Text>\n                        </div>\n                        <footer>\n                            <Card.Link>\n                                <Link to={respond}>Respond</Link>\n                            </Card.Link>\n                            <Card.Link>\n                                <Link to={edit}>Edit</Link>\n                            </Card.Link>\n                            <Card.Link onClick={this.deleteEvent}>\n                                Delete\n                            </Card.Link>\n                            <Card.Link>\n                                <Link to={results}>Results</Link>\n                            </Card.Link>\n                        </footer>\n                    </Card.Body>\n                </Card>\n            </div>\n        );\n    }\n}\n\nclass ResponseLink extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        let respond = \"/respond/\" + this.props.response[\"UUID\"]\n        return (\n            <div>\n                <Card style={{width:'18rem', height:'12rem'}}>\n                    <Card.Body>\n                        <div style={{height:'8rem'}}>\n                            <Card.Title>{this.props.response[\"name\"]}</Card.Title>\n                            <Card.Text>\n                                {this.props.response[\"description\"]}\n                            </Card.Text>\n                        </div>\n                        <footer>\n                            <Card.Link>\n                                <Link to={respond}>Edit Response</Link>\n                            </Card.Link>\n                        </footer>\n                    </Card.Body>\n                </Card>\n            </div>\n        )\n    }\n}\n\nexport default class Home extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        let eventLinks = []\n        let responseLinks = []\n        this.props.events.forEach(event => {\n            eventLinks.push(<EventLink key={event[\"UUID\"]} event={event} refresh={this.props.refresh}/>);\n        });\n        this.props.responses.forEach(response => {\n            responseLinks.push(<ResponseLink key={'r' + response[\"UUID\"]} response={response}/>);\n        })\n        return (\n        <div style={{padding: \"16px\"}}>\n            <h3>My Events</h3>\n            <Link to=\"/create\">\n                <h5>\n                   Create new event\n                </h5>\n            </Link>\n            <br />\n            <div style={{ display: \"flex\", flexWrap: \"wrap\" }}> \n                {eventLinks}\n            </div>\n            <br />\n            <h3>My Responses</h3>\n            <br />\n            <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n                {responseLinks}\n            </div>\n        </div>);\n    }\n}","import moment from 'moment-timezone';\n\n// make this file into react component\n\nlet gapi = window.gapi\nlet CLIENT_ID = \"1061583639488-a6in0ntustneh0hqfcnn9ju5g8uu6e7t.apps.googleusercontent.com\"\nlet API_KEY = \"AIzaSyBu5yiQId53xE4PW-zoJRseKqFhSoPwv30\"\nlet DISCOVERY_DOCS=[\"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest\"]\nlet SCOPES = \"https://www.googleapis.com/auth/calendar.events\"\nlet state = null;\nlet callback = null;\n\n//export a function that gets start time(date picker), location, name \nexport const handleClientLoad = (calendarState, callbackFunc) => {\n    gapi.load('client:auth2', () => {\n        state = calendarState;\n        callback = callbackFunc;\n        initClient();\n    });\n}\n\nexport const handleAuthClick = (event) => {\n    gapi.auth2.getAuthInstance().signIn();\n}\n\nexport const handleSignoutClick = (event) => {\n    gapi.auth2.getAuthInstance().signOut();\n}\n\nfunction initClient() {\n    gapi.client.init({\n        apiKey: API_KEY,\n        clientId: CLIENT_ID,\n        discoveryDocs: DISCOVERY_DOCS,\n        scope: SCOPES\n    }).then(function () {\n        // Listen for sign-in state changes.\n        gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\n\n        // Handle the initial sign-in state.\n        updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n    }, function(error) {\n        //appendPre(JSON.stringify(error, null, 2));\n    });\n}\n\nfunction updateSigninStatus(isSignedIn) {\n    if (isSignedIn) {\n      listUpcomingEvents();\n    }\n}\n\n/**\n * Print the summary and start datetime/date of the next ten events in\n * the authorized user's calendar. If no events are found an\n * appropriate message is printed.\n */\nfunction listUpcomingEvents() {\n    /*\n    calendarId=\"primary\",\n    timeMin=data[\"timeMin\"], timeMax=data[\"timeMax\"],\n    singleEvents=True, orderBy=\"startTime\"\n    )\n    */\n    gapi.client.calendar.events.list({\n        'calendarId': 'primary',\n        'timeMin': moment(state.event[\"startDate\"]).format(),\n        'timeMax': moment(state.event[\"endDate\"]).format(),\n        'singleEvents': true,\n        'orderBy': 'startTime'\n    }).then(function(response) {\n        var events = response.result.items;\n        events.forEach(event => {\n            state.selectedIntervals.push(\n              {\n                uid: state.lastUid,\n                start: moment(event.start.dateTime),\n                end: moment(event.end.dateTime),\n                value: event.summary,\n                type: \"gcalevent\"\n              }\n            )\n            state.lastUid++;\n          });\n        callback();\n    });\n}","import React from 'react';\nimport moment from 'moment-timezone';\nimport WeekCalendar from './WeekCalendar/WeekCalendar';\nimport { handleClientLoad, handleAuthClick } from './gcal';\n\nexport default class StandardCalendar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loaded: false,\n      lastUid: 0,\n      selectedIntervals: [], // take from props  firstDay={moment(event[\"startDate\"])} numberOfDays={7}\n      event: this.props.event\n    }\n    this.updateAvailabilities = this.updateAvailabilities.bind(this)\n    this.setSelectedIntervals = this.setSelectedIntervals.bind(this)\n    this.setLoaded = this.setLoaded.bind(this)\n  }\n  setLoaded() {\n    this.setState({loaded: true});\n  }\n  componentDidMount() {\n    const request = {\n      sp_name: \"getUserAvailabilities\",\n      params: [this.state.event[\"UUID\"]]\n    }\n    fetch(\"/api\", {\n      method: \"POST\",\n      headers: {\n          \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(request),\n      })\n      .then(response => response.json())\n      .then(avails => {\n        avails.forEach(avail => {\n          this.state.selectedIntervals.push(\n            {\n              uid: this.state.lastUid,\n              start: moment(avail.startTime),\n              end: moment(avail.endTime),\n              value: \"\",\n              type: \"event\"\n            }\n          )\n          this.state.lastUid++;\n        });\n      })\n      .then(data => {\n          handleClientLoad(this.state, this.setLoaded);\n      });\n  }\n\n  updateAvailabilities() {\n    const request = {\n      sp_name: \"deleteAvailabilities\",\n      params: [this.state.event[\"UUID\"]]\n    };\n    fetch(\"/api\", {\n      method: \"POST\",\n      headers: {\n          \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(request),\n    }).then(data => {\n        let availabilityString = \"\";\n        this.state.selectedIntervals.forEach(avail => {\n          if (avail.type == \"event\") {\n            let startTime = avail.start.clone().utc().format(\"YYYY-M-D HH:mm:ss\")\n            let endTime = avail.end.clone().utc().format(\"YYYY-M-D HH:mm:ss\")\n            availabilityString += startTime + ',' + endTime + ';';\n          }\n        });\n        const request = {\n          sp_name: \"saveAvailabilityArray\",\n          params: [\n                    this.state.event[\"UUID\"],\n                    availabilityString\n                  ]\n        };\n        fetch(\"/api\", {\n          method: \"POST\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(request),\n        }).then(\n          data => {\n            alert(\"Saved\");\n          }\n        );\n      }\n    );\n  }\n\n  handleEventRemove = (event) => {\n    const {selectedIntervals} = this.state;\n    const index = selectedIntervals.findIndex((interval) => interval.uid === event.uid);\n    if (index > -1) {\n      selectedIntervals.splice(index, 1);\n      this.setState({selectedIntervals});\n    }\n  }\n\n  handleEventUpdate = (event) => {\n    const {selectedIntervals} = this.state;\n    const index = selectedIntervals.findIndex((interval) => interval.uid === event.uid);\n    if (index > -1) {\n      selectedIntervals[index] = event;\n      this.setState({selectedIntervals});\n    }\n  }\n\n  handleSelect = (newIntervals) => {\n    const {lastUid, selectedIntervals} = this.state;\n    const intervals = newIntervals.map( (interval, index) => {\n\n      return {\n        ...interval,\n        type: \"event\",\n        uid: lastUid + index\n      }\n    });\n\n    this.setState({\n      selectedIntervals: selectedIntervals.concat(intervals),\n      lastUid: lastUid + newIntervals.length\n    });\n  }\n\n  setSelectedIntervals = (intervals) => {\n    this.state.selectedIntervals.length = 0\n    intervals.forEach(interval => {\n      this.state.selectedIntervals.push(interval);\n    });\n  }\n\n  render() {\n    return <div><WeekCalendar\n      startTime = {moment({h: 7, m: 0})}\n      endTime = {moment({h: 22, m: 15})}\n      firstDay = {moment(this.state.event[\"startDate\"]).add(1, 'days')}\n      numberOfDays = {moment(this.state.event[\"endDate\"]).diff(moment(this.state.event[\"startDate\"]), \"days\")+1}\n      scaleFormat = {\"HH:mm\"}\n      dayFormat = {\"ddd. MM.DD\"}\n      //showModalCase = {[\"edit\", \"delete\"]}\n      useModal = {false}\n      selectedIntervals = {this.state.selectedIntervals}\n      onIntervalSelect = {this.handleSelect}\n      onIntervalUpdate = {this.handleEventUpdate}\n      onIntervalRemove = {this.handleEventRemove}\n      setSelectedIntervals = {this.setSelectedIntervals}\n      onEventClick = {this.handleEventRemove} // function(){console.log(\"clicked on event\");}\n      eventSpacing = {0} // <button onClick={this.loadGoogleCalendar}>Load Gcal</button>\n    />\n    <div style={{textAlign: \"right\", padding: \"10px\"}}>\n      <button class=\"bluebutton\" onClick={handleAuthClick} disabled={this.state.loaded}>Load Google Calendar</button>\n      <button class=\"greenbutton\" onClick={this.updateAvailabilities}>Save</button>\n    </div>\n    </div>\n  }\n}\n","import React from 'react';\nimport StandardCalendar from './StandardCalendar';\nimport { useParams } from \"react-router\";\nimport moment from 'moment-timezone';\n\nclass RespondPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            event: {\n                name: \"\",\n                description: \"\",\n                startDate: \"\",\n                endDate: \"\",\n                UUID: \"\",\n                isRecurring: \"\"\n            },\n            loaded: false\n        }\n        this.setLoaded = this.setLoaded.bind(this);\n    }\n    setLoaded() {\n        this.setState({loaded: true});\n    }\n    addResponse() {\n        const request = {\n            sp_name: \"addResponse\",\n            params: [this.props.eventUUID]\n        }\n        fetch(\"/api\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(request),\n        }).then(data => {\n                this.props.refresh();\n            }\n        );\n    }\n    getEvent() {\n        const request = {\n            sp_name: \"getEvent\",\n            params: [this.props.eventUUID]\n        }\n        fetch(\"/api\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(request),\n        })\n        .then(response => response.json())\n        .then(events => {\n                this.state.event.name = events[0][\"name\"];\n                this.state.event.description = events[0][\"description\"];\n                this.state.event.startDate = events[0][\"startDate\"];\n                this.state.event.endDate = events[0][\"endDate\"];\n                this.state.event.UUID = events[0][\"UUID\"];\n                this.state.event.isRecurring = events[0][\"isRecurring\"];\n                this.setLoaded();\n                this.addResponse();\n        });\n    }\n    componentDidMount() {\n        this.getEvent();\n    }\n    render() {\n        let {event, loaded} = this.state;\n        if(loaded) {\n            return (\n                <div>\n                    <div style={{textAlign: \"center\", padding: \"10px\"}}>\n                        <h3>{event.name} - {event.description}</h3>\n                    </div>\n                    <StandardCalendar event={event}/>\n                </div>\n            );\n        }\n        return <div></div>;\n    }\n}\n\nexport default function Respond(props) {\n    let { UUID } = useParams();\n    return (\n        <RespondPage eventUUID={UUID} refresh={props.refresh}/>\n    );\n}","import React from 'react';\nimport { Navigate } from 'react-router-dom'\n\nexport default class Create extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: \"\",\n            description: \"\",\n            startDate: \"\",\n            endDate: \"\",\n            redirect: false\n        }\n        this.addEvent = this.addEvent.bind(this);\n        this.handleName = this.handleName.bind(this);\n        this.handleDescription = this.handleDescription.bind(this);\n        this.handleStartDate = this.handleStartDate.bind(this);\n        this.handleEndDate = this.handleEndDate.bind(this);\n        this.setRedirect = this.setRedirect.bind(this);\n    }\n    setRedirect() {\n        this.setState({redirect: true});\n    }\n    addEvent(event) {\n        event.preventDefault()\n        // do this required check properly\n        if(this.state.name == \"\" || this.state.startDate == \"\" || this.state.endDate == \"\") {\n            return;\n        }\n        const request = {\n          sp_name: \"addEvent\",\n          params: [this.state.name, this.state.description, this.state.startDate, this.state.endDate, 0]\n        };\n        fetch(\"/api\", {\n          method: \"POST\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(request),\n        })\n        .then(data => {\n                this.props.refresh(this.setRedirect);\n            }\n        );\n    }\n\n    handleName(event) {\n        this.setState({name: event.target.value});\n    }\n\n    handleDescription(event) {\n        this.setState({description: event.target.value});\n    }\n\n    handleStartDate(event) {\n        this.setState({startDate: event.target.value});\n    }\n    \n    handleEndDate(event) {\n        this.setState({endDate: event.target.value});\n    }\n\n    render() {\n        const { redirect } = this.state;\n        if (redirect) {\n            return <Navigate to='/'/>;\n        }\n        return (\n            <div style={{padding: \"16px\"}}>\n                <h3>Create New Event</h3>\n                <form onSubmit={event => this.addEvent(event)}>\n                    <p>Name:</p>\n                    <p><input type=\"text\" value={this.state.name} onChange={this.handleName}/></p>\n                    <p>Description:</p>\n                    <p><input type=\"text\" value={this.state.description} onChange={this.handleDescription} /></p>\n                    <p>Start Date:</p>\n                    <p><input type=\"date\" value={this.state.startDate} onChange={this.handleStartDate} /></p>\n                    <p>End Date:</p>\n                    <p><input type=\"date\" value={this.state.endDate} onChange={this.handleEndDate} /></p>\n                    <p><input type=\"submit\" class=\"greenbutton\" value=\"Create\" /></p>\n                </form>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport { Link } from \"react-router-dom\";\n\nexport default class Navbar extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        if(this.props.loggedIn) {\n            return (\n                <div class=\"topnav\">\n                    <h2 style={{pointerEvents: \"none\"}}>TigerMeet</h2>\n                    <div class=\"topnav-right\">\n                        <Link to={\"/\"}>\n                            <h2>Dashboard</h2>\n                        </Link>\n                        <Link to=\"/\">\n                            <h2>About</h2>\n                        </Link>\n                        <a href=\"/logout\">\n                            <h2>Log Out</h2>\n                        </a>\n                    </div>\n                </div>\n            );\n        }\n        return (\n            <div class=\"topnav\">\n                <h2>TigerMeet</h2>\n                <div class=\"topnav-right\">\n                    <Link to=\"/\">\n                        <h2>About</h2>\n                    </Link>\n                    <a href=\"/login\">\n                        <h2>Log In</h2>\n                    </a>\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport { useParams } from \"react-router\";\nimport { Navigate } from 'react-router-dom'\nimport moment from 'moment-timezone';\n\nclass EditPrefilled extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: this.props.event[\"name\"],\n            description: this.props.event[\"description\"],\n            startDate: moment(this.props.event[\"startDate\"]).add(1, 'days').format(\"YYYY-MM-DD\"),\n            endDate: moment(this.props.event[\"endDate\"]).add(1, 'days').format(\"YYYY-MM-DD\"),\n            redirect: false\n        }\n        this.editEvent = this.editEvent.bind(this);\n        this.handleName = this.handleName.bind(this);\n        this.handleDescription = this.handleDescription.bind(this);\n        this.handleStartDate = this.handleStartDate.bind(this);\n        this.handleEndDate = this.handleEndDate.bind(this);\n        this.setRedirect = this.setRedirect.bind(this);\n    }\n    setRedirect() {\n        this.setState({redirect: true});\n    }\n    editEvent(event) {\n        event.preventDefault()\n        // do this required check properly\n        if(this.state.name == \"\" || this.state.startDate == \"\" || this.state.endDate == \"\") {\n            return;\n        }\n        const request = {\n          sp_name: \"editEvent\",\n          params: [this.props.event.UUID, this.state.name, this.state.description, this.state.startDate, this.state.endDate, 0]\n        };\n        fetch(\"/api\", {\n          method: \"POST\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(request),\n        })\n        .then(data => {\n                // redirect on success, need error popup with toastr.js or something\n                this.props.refresh(this.setRedirect);\n            }\n        );\n    }\n\n    handleName(event) {\n        this.setState({name: event.target.value});\n    }\n\n    handleDescription(event) {\n        this.setState({description: event.target.value});\n    }\n\n    handleStartDate(event) {\n        this.setState({startDate: event.target.value});\n    }\n    \n    handleEndDate(event) {\n        this.setState({endDate: event.target.value});\n    }\n\n    render() {\n        const { redirect } = this.state;\n        if (redirect) {\n            return <Navigate to='/'/>;\n        }\n        return (\n            <div style={{padding: \"16px\"}}>\n                <h3>Edit Event</h3>\n                <form onSubmit={event => this.editEvent(event)}>\n                    <p>Name:</p>\n                    <p><input type=\"text\" value={this.state.name} onChange={this.handleName}/></p>\n                    <p>Description:</p>\n                    <p><input type=\"text\" value={this.state.description} onChange={this.handleDescription} /></p>\n                    <p>Start Date:</p>\n                    <p><input type=\"date\" value={this.state.startDate} onChange={this.handleStartDate} /></p>\n                    <p>End Date:</p>\n                    <p><input type=\"date\" value={this.state.endDate} onChange={this.handleEndDate} /></p>\n                    <p><input type=\"submit\" class=\"greenbutton\" value=\"Save\" /></p>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default function Edit(props) {\n    let { UUID } = useParams();\n    let event = props.events.find(event => {\n      return event.UUID === UUID;\n    });\n    return (\n        <EditPrefilled event={event} refresh={props.refresh}/>\n    )\n}","import React from 'react';\nimport { useParams } from \"react-router\";\n\nclass ResultsPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            results: [],\n            loaded: false\n        }\n    }\n    getAllAvailabilities() {\n        const request = {\n            sp_name: \"getAllAvailabilities\",\n            params: [this.props.eventUUID]\n        }\n        fetch(\"/api\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(request),\n        })\n        .then(response => response.json())\n        .then(results => {\n            results.forEach(result => {\n                this.state.results.push(<p>{result.name}: {result.startTime} - {result.endTime}</p>);\n            })\n            this.setState({loaded: true});\n        });\n    }\n    componentDidMount() {\n        this.getAllAvailabilities();\n    }\n    render() {\n        let {results, loaded} = this.state;\n        if(loaded) {\n            return (\n                <div style={{padding: \"16px\"}}>\n                    <h3>Results</h3>\n                    <div>\n                        {results}\n                    </div>\n                </div>\n            );\n        }\n        return <div></div>\n    }\n}\n\nexport default function Results(props) {\n    let { UUID } = useParams();\n    return (\n        <ResultsPage eventUUID={UUID}/>\n    );\n}","import React from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport Home from './Home'\nimport Respond from './Respond'\nimport Create from './Create'\nimport Navbar from './Navbar';\nimport Edit from './Edit';\nimport Results from './Results';\n\nexport default class Main extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            events: [],\n            responses: [],\n            loaded: false\n        };\n        this.getResponses = this.getResponses.bind(this)\n    }\n    getEvents(callback) {\n        const request = {\n            sp_name: \"getEvents\",\n            params: []\n        }\n        fetch(\"/api\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(request),\n        })\n        .then(response => response.json())\n        .then(events => {\n            const newEvents = [];\n            events.forEach(event => {\n                newEvents.push(event);\n            });\n            this.setState({events: newEvents, loaded: true});\n            if (callback) {\n                callback();\n            }\n        });\n    }\n    getResponses(callback) {\n        const request = {\n            sp_name: \"getResponses\",\n            params: []\n        }\n        fetch(\"/api\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(request),\n        }).then(response => response.json())\n        .then(responses => {\n            const newResponses = []\n            responses.forEach(response => {\n                newResponses.push(response);\n            });\n            this.setState({responses: newResponses});\n            this.getEvents(callback);\n        });\n    }\n    componentDidMount() {\n        this.getResponses();\n    }\n    render() {\n        let {events, responses, loaded} = this.state;\n        if (loaded) {\n            return (\n                <div>\n                    <Navbar loggedIn={true}/>\n                    <Routes>\n                        <Route path='/' element={<Home events={events} responses={responses} refresh={this.getResponses}/>}></Route>\n                        <Route path='/respond/:UUID' element={<Respond refresh={this.getResponses}/>}></Route>\n                        <Route path='/create' element={<Create refresh={this.getResponses}/>}></Route>\n                        <Route path='/edit/:UUID' element={<Edit events={events} refresh={this.getResponses}/>}></Route>\n                        <Route path='/results/:UUID' element={<Results/>}></Route>\n                    </Routes> \n                </div>\n              );\n        }\n        return <div></div>\n    }\n}","/* eslint-disable */\nimport React from 'react';\nimport Main from './Main';\n\nexport default class App extends React.Component {\n   render() {\n      return (\n          <div className=\"App\">\n            <Main />\n          </div>\n      );\n   }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render((\n  <BrowserRouter>\n    <App /> {/* The various pages will be displayed by the `Main` component. */}\n  </BrowserRouter>\n  ), document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n\n"],"sourceRoot":""}