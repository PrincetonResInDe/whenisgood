(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOffset=function(e){var t=(0,s.default)(e).startOf("day");return e.diff(t,"m")},t.getMoment=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e*t+n>=1440)return(0,s.default)({h:23,m:59});return(0,s.default)({h:0,m:0}).add(e*t+n,"m")},t.getNumberOfCells=o,t.getIntervalsByDuration=function(e,t,n){for(var a=o(t,e,!1),r=o(n,e,!0),i=(0,s.default)({h:0,m:0}).add(e*a,"m"),l=void 0,c=[],u=a;u<r;u+=1){l=i.clone().add(e,"m");var d={start:i,end:l};c.push(d),i=l}var f=c.pop();"00:00"===f.end.format("HH:mm")&&(f={start:f.start,end:(0,s.default)({hour:23,minute:59})});return c.push(f),c},t.getDayIntervals=function(e,t){return t.map((function(t){return{start:(0,s.default)(e).hour(t.start.hour()).minute(t.start.minute()).second(0),end:(0,s.default)(e).hour(t.end.hour()).minute(t.end.minute()).second(0)}}))},t.getIntervals=function(e,t){for(var n=t.diff(e,"days"),a=[],r=0;r<=n;r+=1){var o=(0,s.default)(e).add(r,"day"),i=(0,s.default)(e).add(r,"day").hour(t.hour()).minute(t.minute()).second(0);a.push({start:o,end:i})}return a};var a,r=n(16),s=(a=r)&&a.__esModule?a:{default:a};function o(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=(0,s.default)(e).startOf("day").add(a,"m"),o=(0,s.default)(e);"23:59"===o.format("HH:mm")&&o.add(1,"m");var i=n?Math.ceil(o.diff(r,"m")/t):Math.floor(o.diff(r,"m")/t);return i<0?0:i}},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=b(n(1)),o=b(n(13)),i=b(n(16)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(19)),c=b(n(35)),u=b(n(36)),d=b(n(38)),f=b(n(39)),p=b(n(40)),h=b(n(41)),v=b(n(42)),m=n(43);function b(e){return e&&e.__esModule?e:{default:e}}var y={firstDay:o.default.object,numberOfDays:o.default.number,scaleHeaderTitle:o.default.string,headerCellComponent:o.default.func,dayFormat:o.default.string,startTime:o.default.object,endTime:o.default.object,scaleUnit:o.default.number,scaleFormat:o.default.string,cellHeight:o.default.number,dayCellComponent:o.default.func,selectedIntervals:o.default.array,onIntervalSelect:o.default.func,onIntervalUpdate:o.default.func,onIntervalRemove:o.default.func,eventComponent:o.default.func,onEventClick:o.default.func,modalComponent:o.default.func,useModal:o.default.bool,showModalCase:o.default.arrayOf(o.default.string),eventSpacing:o.default.number},j={firstDay:(0,i.default)(),numberOfDays:7,scaleHeaderTitle:"",headerCellComponent:f.default,dayFormat:"dd., DD.MM",startTime:(0,i.default)({h:0,m:0}),endTime:(0,i.default)({h:23,m:59}),scaleUnit:15,scaleFormat:"HH:mm",cellHeight:25,dayCellComponent:p.default,selectedIntervals:[],eventComponent:h.default,modalComponent:v.default,useModal:!0,showModalCase:[m.ACTION_TYPES.CREATE,m.ACTION_TYPES.EDIT],eventSpacing:15},O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));g.call(n);var a=e.scaleUnit,r=e.startTime,s=e.endTime,o=l.getIntervalsByDuration(a,r,s);return n.state={scaleIntervals:o,columnDimensions:[],scrollPosition:{top:0,left:0},startSelectionPosition:null,preselectedInterval:null},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.calculateColumnDimension(),window.addEventListener("resize",this.calculateColumnDimension),window.addEventListener("mouseup",this.handleSelectionStop)}},{key:"componentWillReceiveProps",value:function(e){if(e.scaleUnit!==this.props.scaleUnit||e.startTime!==this.props.startTime||e.endTime!==this.props.endTime){var t=l.getIntervalsByDuration(e.scaleUnit,e.startTime,e.endTime);this.setState({scaleIntervals:t})}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.calculateColumnDimension),window.removeEventListener("mouseup",this.handleSelectionStop)}},{key:"renderSelectedIntervals",value:function(){var e=this,t=this.props,n=t.firstDay,a=t.numberOfDays,r=t.cellHeight,o=t.scaleUnit,c=t.selectedIntervals,u=t.eventSpacing,d=this.state,f=d.columnDimensions,p=d.scaleIntervals,h=[];if(0===f.length||0===c.length)return h;for(var v=this.props.eventComponent,m=l.getOffset(p[0].start),b=[],y=function(t){var a=(0,i.default)(n).startOf("day").add(t,"day"),d=c.filter((function(e){return e.start.isSame(a,"day")||e.end.isSame(a,"day")}));if(d.length>0){d.sort((function(e,t){return e.start.diff(t.start,"minutes")}));var y=[],j=null;d.forEach((function(e){"event"==e.type?null==j?j=e:j.end.isBefore(e.start)?(y.push(j),j=e):j.end.isBefore(e.end)&&(j.end=e.end):y.push(e)})),null!=j&&y.push(j),(d=y).sort((function(e,t){return e.start.diff(t.start,"minutes")})),b.push.apply(b,d),d.forEach((function(n,i,c){var d=0;if(n.start.isBefore(a)||(d=l.getNumberOfCells(n.start,o,!1,m)),!(d>p.length)){var b=c.filter((function(e,t){return t<i&&"gcalevent"==n.type&&n.start.isBefore(e.end)})).length,y=c.filter((function(e,t){return t>i&&"gcalevent"==n.type&&n.end.isAfter(e.start)})).length,j=c.filter((function(e,t){return"gcalevent"==n.type&&"event"==e.type&&(t<i&&n.start.isBefore(e.end)||t>i&&n.end.isAfter(e.start))})).length,O=b+y+1-Math.max(0,j-1),g=l.getNumberOfCells(n.end,o,!0,m);g>p.length&&(g=p.length);var _,x=d*r;_="event"==n.type?f[t].width-u:(f[t].width-u)/O;var D={top:x,left:f[t].left+(_+Math.floor(u/O))*(b+Math.max(0,j-1)),width:_,height:(g-d)*r},E=s.default.createElement("div",{className:"weekCalendar__overlay",key:2e4*t+i,style:D,onClick:e.handleEventClick.bind(e,n)},s.default.createElement(v,n));h.push(E)}}))}},j=0;j<a;j+=1)y(j);return t.setSelectedIntervals(b),h}},{key:"renderOverlay",value:function(){if(null!=this.state.startSelectionPosition){var e=this.state.startSelectionPosition,t=this.state.mousePosition,n=Math.min(e.y,t.y)*this.props.cellHeight,a=this.state.columnDimensions[Math.min(e.x,t.x)].left,r=this.state.columnDimensions[Math.max(e.x,t.x)],o={top:n,left:a,width:r.left-a+r.width,height:(Math.max(e.y,t.y)+1)*this.props.cellHeight-n};return s.default.createElement("div",{className:"weekCalendar__overlay weekCalendar__overlay_status_selection",style:o})}return null}},{key:"renderModal",value:function(){var e=this.props,t=e.useModal,n=e.showModalCase,r=this.state,o=r.preselectedInterval,i=r.updateEvent?m.ACTION_TYPES.EDIT:m.ACTION_TYPES.CREATE;if(o&&t&&n.includes(i)){var l=this.props.modalComponent;return s.default.createElement("div",{className:"calendarModal"},s.default.createElement("div",{className:"calendarModal__backdrop",onClick:this.closeModule}),s.default.createElement("div",{className:"calendarModal__content"},s.default.createElement(l,a({},o,{onRemove:this.removePreselectedInterval,onSave:this.submitPreselectedInterval,actionType:i}))))}return null}},{key:"render",value:function(){var e=this.props,t=e.firstDay,n=e.numberOfDays,a=e.headerCellComponent,r=e.dayFormat,o=e.scaleUnit,i=e.scaleFormat,l=e.cellHeight,f=e.dayCellComponent,p=e.scaleHeaderTitle,h=null!=this.state.startSelectionPosition;return s.default.createElement("div",{className:h?"weekCalendar weekCalendar__status_selection":"weekCalendar"},s.default.createElement("div",{className:"weekCalendar__scaleHeader"},s.default.createElement("span",null,p)),s.default.createElement("div",{className:"weekCalendar__header",style:{left:-this.state.scrollPosition.left}},s.default.createElement(c.default,{firstDay:t,numberOfDays:n,dayFormat:r,columnDimensions:this.state.columnDimensions,headerCellComponent:a})),s.default.createElement("div",{className:"weekCalendar__scaleColumn",style:{top:-this.state.scrollPosition.top}},s.default.createElement(d.default,{scaleUnit:this.props.scaleUnit,scaleFormat:i,scaleIntervals:this.state.scaleIntervals,cellHeight:this.props.cellHeight})),s.default.createElement("div",{className:"weekCalendar__content",onScroll:this.handleScroll},s.default.createElement(u.default,{firstDay:t,numberOfDays:n,scaleUnit:o,scaleIntervals:this.state.scaleIntervals,cellHeight:l,dayCellComponent:f,onSelectionStart:this.handleSelectionStart,onCellMouseEnter:this.handleCellMouseEnter}),this.renderSelectedIntervals(),this.renderOverlay()),this.renderModal())}}]),t}(s.default.Component),g=function(){var e=this;this.calculateColumnDimension=function(){for(var t=e.props.numberOfDays,n=[],a=0;a<t;a+=1){var r=0===a?0:n[a-1].left+n[a-1].width,s=0,o=document.querySelectorAll("[data-colpos='"+a+"']")[0];o&&(s=o.getBoundingClientRect().width),n.push({left:r,width:s})}e.setState({columnDimensions:n})},this.handleScroll=function(t){e.setState({scrollPosition:{top:t.target.scrollTop,left:t.target.scrollLeft}})},this.handleCellMouseEnter=function(t,n){null!=e.state.startSelectionPosition&&e.setState({mousePosition:{x:t,y:n}})},this.handleSelectionStart=function(t,n){var a={x:t,y:n};e.setState({startSelectionPosition:a,mousePosition:a})},this.handleSelectionStop=function(t){if(0===t.button){var n=e.props,a=n.firstDay,r=n.scaleUnit,s=n.useModal,o=n.showModalCase,c=e.state,u=c.startSelectionPosition,d=c.mousePosition,f=c.scaleIntervals;if(null!=u){var p=d.x,h=d.y,v=Math.min(u.x,p),b=Math.max(u.x,p),y=(0,i.default)(a).add(v,"days"),j=(0,i.default)(a).add(b,"days"),O=Math.min(u.y,h),g=Math.max(u.y,h)+1,_=l.getOffset(f[0].start),x=l.getMoment(r,O,_),D=l.getMoment(r,g,_),E=(0,i.default)(y).hour(x.hour()).minute(x.minute()).second(0),C=(0,i.default)(j).hour(D.hour()).minute(D.minute()).second(0);if(s&&o.includes(m.ACTION_TYPES.CREATE)){var S={start:E,end:C};e.setState({preselectedInterval:S,updateEvent:!1})}else{var w=l.getIntervals(E,C);e.props.onIntervalSelect&&e.props.onIntervalSelect(w)}e.setState({startSelectionPosition:null,mousePosition:null})}}},this.removePreselectedInterval=function(){var t=e.state,n=t.preselectedInterval;t.updateEvent&&e.props.onIntervalRemove&&e.props.onIntervalRemove(n),e.setState({preselectedInterval:null})},this.submitPreselectedInterval=function(t){var n=e.state,r=n.preselectedInterval;if(n.updateEvent)e.props.onIntervalUpdate&&e.props.onIntervalUpdate(a({},r,t));else if(e.props.onIntervalSelect){var s=l.getIntervals(r.start,r.end).map((function(e){return a({},e,t)}));e.props.onIntervalSelect(s)}e.setState({preselectedInterval:null})},this.closeModule=function(){e.setState({preselectedInterval:null})},this.handleEventClick=function(t){e.props.onEventClick&&e.props.onEventClick(t),e.setState({preselectedInterval:t,updateEvent:!0})}};O.propTypes=y,O.defaultProps=j,t.default=O},28:function(e,t,n){},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CalendarHeader=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=i(n(1)),s=i(n(13)),o=i(n(16));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u={firstDay:s.default.object.isRequired,numberOfDays:s.default.number.isRequired,headerCellComponent:s.default.func.isRequired,dayFormat:s.default.string.isRequired,columnDimensions:s.default.array.isRequired},d=t.CalendarHeader=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return e.numberOfDays!==this.props.numberOfDays||!e.firstDay.isSame(this.props.firstDay,"day")||e.columnDimensions!==this.props.columnDimensions}},{key:"render",value:function(){var e=this.props,t=e.firstDay,n=e.numberOfDays,a=e.dayFormat,s=e.columnDimensions,i=this.props.headerCellComponent;if(0===s.length)return null;for(var l=[],c=0,u=0;u<n;u+=1){var d=(0,o.default)(t).add(u,"d"),f=s[u].width;c+=f;var p=r.default.createElement("div",{key:u,className:"weekCalendar__headerColumn",style:{width:f}},r.default.createElement(i,{date:d,dayFormat:a}));l.push(p)}return r.default.createElement("div",{style:{width:c},className:"weekCalendar__headerWrapper"},l)}}]),t}(r.default.Component);d.propTypes=u,t.default=d},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=c(n(1)),s=c(n(13)),o=c(n(16)),i=c(n(37)),l=n(19);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f={firstDay:s.default.object.isRequired,numberOfDays:s.default.number.isRequired,scaleUnit:s.default.number.isRequired,scaleIntervals:s.default.array.isRequired,cellHeight:s.default.number.isRequired,dayCellComponent:s.default.func.isRequired,onSelectionStart:s.default.func.isRequired,onCellMouseEnter:s.default.func.isRequired},p=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return e.scaleUnit!==this.props.scaleUnit||e.cellHeight!==this.props.cellHeight||e.numberOfDays!==this.props.numberOfDays||!e.firstDay.isSame(this.props.firstDay,"day")}},{key:"render",value:function(){for(var e=this.props,t=e.firstDay,n=e.numberOfDays,a=e.scaleUnit,s=e.scaleIntervals,c=e.cellHeight,u=e.dayCellComponent,d=[],f=0;f<n;f+=1){var p=(0,o.default)(t).add(f,"d"),h=(0,l.getDayIntervals)(p,s);d.push(r.default.createElement(i.default,{key:f,colPos:f,cellHeight:c,dayCellComponent:u,scaleUnit:a,dayIntervals:h,onSelectionStart:this.props.onSelectionStart,onCellMouseEnter:this.props.onCellMouseEnter}))}return r.default.createElement("div",{className:"calendarBody"},r.default.createElement("div",{className:"calendarBody__row"},d))}}]),t}(r.default.Component);p.propTypes=f,t.default=p},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(1)),s=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={colPos:s.default.number.isRequired,dayIntervals:s.default.array.isRequired,cellHeight:s.default.number.isRequired,dayCellComponent:s.default.func.isRequired,onSelectionStart:s.default.func.isRequired,onCellMouseEnter:s.default.func.isRequired},u=function(e){function t(){var e,n,a;i(this,t);for(var r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handleMouseEnter=function(e,t){return function(){a.props.onCellMouseEnter(e,t)}},a.handleStartSelection=function(e,t){return function(){a.props.onSelectionStart(e,t)}},l(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.cellHeight,a=t.colPos,s=t.dayIntervals,o=this.props.dayCellComponent,i=s.map((function(t,s){return r.default.createElement("div",{key:s,className:"calendarBody__cell",style:{height:n},onMouseEnter:e.handleMouseEnter(a,s)},r.default.createElement(o,{colPos:a,rowPos:s,startTime:t.start,endTime:t.end,cellHeight:e.props.cellHeight,startSelection:e.handleStartSelection(a,s)}))}));return r.default.createElement("div",{className:"calendarBody__column","data-colpos":a},i)}}]),t}(r.default.Component);u.propTypes=c,t.default=u},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(1)),s=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={scaleUnit:s.default.number.isRequired,scaleFormat:s.default.string.isRequired,scaleIntervals:s.default.array.isRequired,cellHeight:s.default.number.isRequired},u=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return e.scaleUnit!==this.props.scaleUnit||e.cellHeight!==this.props.cellHeight}},{key:"renderScaleCell",value:function(e,t){var n=this.props,a=n.cellHeight,s=n.scaleFormat;return r.default.createElement("div",{key:t,className:"weekCalendar__scaleCell",style:{height:a,lineHeight:a+"px"}},r.default.createElement("span",null,e.start.format(s)))}},{key:"render",value:function(){var e=this,t=this.props.scaleIntervals;return r.default.createElement("div",null,t.map((function(t,n){return e.renderScaleCell(t,n)})))}}]),t}(r.default.Component);u.propTypes=c,t.default=u},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(1)),s=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={date:s.default.object.isRequired,dayFormat:s.default.string.isRequired},u=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.date,n=e.dayFormat;return r.default.createElement("span",{className:"title"},t.format(n))}}]),t}(r.default.PureComponent);u.propTypes=c,t.default=u},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l={startSelection:s(n(13)).default.func.isRequired},c=function(e){function t(){var e,n,a;o(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handleMouseDown=function(e){0===e.button&&a.props.startSelection()},i(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return r.default.createElement("div",{onMouseDown:this.handleMouseDown,className:"dayCell",role:"presentation"},"\xa0")}}]),t}(r.default.Component);c.propTypes=l,t.default=c},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(1)),s=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={start:s.default.object.isRequired,end:s.default.object.isRequired},u=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.start,a=e.end,s=e.value;return r.default.createElement("div",{className:t},r.default.createElement("span",null,n.format("HH:mm")+" - "+a.format("HH:mm")),r.default.createElement("br",null),r.default.createElement("br",null),s)}}]),t}(r.default.PureComponent);u.propTypes=c,t.default=u},42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(1)),s=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c={start:s.default.object.isRequired,end:s.default.object.isRequired,value:s.default.string,onRemove:s.default.func.isRequired,onSave:s.default.func.isRequired,actionType:s.default.string},u=function(e){function t(){var e,n,a;i(this,t);for(var r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.handleRemove=function(){a.props.onRemove()},a.handleSave=function(){var e=a.input.value;a.props.onSave({value:e})},l(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"renderText",value:function(){var e=this.props,t=e.start,n=e.end;return t.isSame(n,"day")?r.default.createElement("span",null,t.format("Do MMM., HH:mm")+" - "+n.format("HH:mm")):r.default.createElement("span",null,t.format("Do MMM.")+" - "+n.format("Do MMM.")+", "+t.format("HH:mm")+" - "+n.format("HH:mm"))}},{key:"render",value:function(){var e=this,t=this.props.value;return r.default.createElement("div",{className:"customModal"},r.default.createElement("div",{className:"customModal__text"},this.renderText()),r.default.createElement("input",{ref:function(t){e.input=t},className:"customModal__input",type:"text",placeholder:"Enter something",defaultValue:t}),r.default.createElement("button",{className:"customModal__button",onClick:this.handleRemove},"Delete"),r.default.createElement("button",{className:"customModal__button customModal__button_float_right",onClick:this.handleSave},"Save"))}}]),t}(r.default.Component);u.propTypes=c,u.defaultProps={value:""},t.default=u},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTION_TYPES={CREATE:"create",EDIT:"edit"}},44:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(20),o=n.n(s),i=(n(28),n(4)),l=n(5),c=n(7),u=n(6),d=n(3),f=n(2),p=n(10),h=n(12),v=n(0),m=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).deleteEvent=a.deleteEvent.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"deleteEvent",value:function(){var e=this,t={sp_name:"deleteEvent",params:[this.props.event.UUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.props.refresh()}))}},{key:"render",value:function(){var e="/respond/"+this.props.event.UUID,t="/edit/"+this.props.event.UUID,n="/results/"+this.props.event.UUID;return Object(v.jsx)("div",{children:Object(v.jsx)(h.a,{style:{width:"18rem",height:"12rem"},children:Object(v.jsxs)(h.a.Body,{children:[Object(v.jsxs)("div",{style:{height:"8rem"},children:[Object(v.jsx)(h.a.Title,{children:this.props.event.name}),Object(v.jsx)(h.a.Text,{children:this.props.event.description})]}),Object(v.jsxs)("footer",{children:[Object(v.jsx)(h.a.Link,{children:Object(v.jsx)(p.b,{to:e,children:"Respond"})}),Object(v.jsx)(h.a.Link,{children:Object(v.jsx)(p.b,{to:t,children:"Edit"})}),Object(v.jsx)(h.a.Link,{onClick:this.deleteEvent,children:"Delete"}),Object(v.jsx)(h.a.Link,{children:Object(v.jsx)(p.b,{to:n,children:"Results"})})]})]})})})}}]),n}(r.a.Component),b=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e="/respond/"+this.props.response.UUID;return Object(v.jsx)("div",{children:Object(v.jsx)(h.a,{style:{width:"18rem",height:"12rem"},children:Object(v.jsxs)(h.a.Body,{children:[Object(v.jsxs)("div",{style:{height:"8rem"},children:[Object(v.jsx)(h.a.Title,{children:this.props.response.name}),Object(v.jsx)(h.a.Text,{children:this.props.response.description})]}),Object(v.jsx)("footer",{children:Object(v.jsx)(h.a.Link,{children:Object(v.jsx)(p.b,{to:e,children:"Edit Response"})})})]})})})}}]),n}(r.a.Component),y=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=[],n=[];return this.props.events.forEach((function(n){t.push(Object(v.jsx)(m,{event:n,refresh:e.props.refresh},n.UUID))})),this.props.responses.forEach((function(e){n.push(Object(v.jsx)(b,{response:e},"r"+e.UUID))})),Object(v.jsxs)("div",{style:{padding:"16px"},children:[Object(v.jsx)("h3",{children:"My Events"}),Object(v.jsx)(p.b,{to:"/create",children:Object(v.jsx)("h5",{children:"Create new event"})}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:t}),Object(v.jsx)("br",{}),Object(v.jsx)("h3",{children:"My Responses"}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:n})]})}}]),n}(r.a.Component),j=n(8),O=n(9),g=n.n(O),_=n(21),x=n.n(_),D=window.gapi,E="1061583639488-a6in0ntustneh0hqfcnn9ju5g8uu6e7t.apps.googleusercontent.com",C="AIzaSyBu5yiQId53xE4PW-zoJRseKqFhSoPwv30",S=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],w="https://www.googleapis.com/auth/calendar.events",I=null,T=null,k=function(e,t){D.load("client:auth2",(function(){I=e,T=t,D.client.init({apiKey:C,clientId:E,discoveryDocs:S,scope:w}).then((function(){D.auth2.getAuthInstance().isSignedIn.listen(P),P(D.auth2.getAuthInstance().isSignedIn.get())}),(function(e){}))}))},M=function(e){D.auth2.getAuthInstance().signIn()};function P(e){e&&D.client.calendar.events.list({calendarId:"primary",timeMin:g()(I.event.startDate).format(),timeMax:g()(I.event.endDate).format(),singleEvents:!0,orderBy:"startTime"}).then((function(e){e.result.items.forEach((function(e){I.selectedIntervals.push({uid:I.lastUid,start:g()(e.start.dateTime),end:g()(e.end.dateTime),value:e.summary,type:"gcalevent"}),I.lastUid++})),T()}))}var R=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleEventRemove=function(e){var t=a.state.selectedIntervals,n=t.findIndex((function(t){return t.uid===e.uid}));n>-1&&(t.splice(n,1),a.setState({selectedIntervals:t}))},a.handleEventUpdate=function(e){var t=a.state.selectedIntervals,n=t.findIndex((function(t){return t.uid===e.uid}));n>-1&&(t[n]=e,a.setState({selectedIntervals:t}))},a.handleSelect=function(e){var t=a.state,n=t.lastUid,r=t.selectedIntervals,s=e.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{type:"event",uid:n+t})}));a.setState({selectedIntervals:r.concat(s),lastUid:n+e.length})},a.setSelectedIntervals=function(e){a.state.selectedIntervals.length=0,e.forEach((function(e){a.state.selectedIntervals.push(e)}))},a.state={loaded:!1,lastUid:0,selectedIntervals:[],event:a.props.event},a.updateAvailabilities=a.updateAvailabilities.bind(Object(d.a)(a)),a.setSelectedIntervals=a.setSelectedIntervals.bind(Object(d.a)(a)),a.setLoaded=a.setLoaded.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"setLoaded",value:function(){this.setState({loaded:!0})}},{key:"componentDidMount",value:function(){var e=this,t={sp_name:"getUserAvailabilities",params:[this.state.event.UUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t.forEach((function(t){e.state.selectedIntervals.push({uid:e.state.lastUid,start:g()(t.startTime),end:g()(t.endTime),value:"",type:"event"}),e.state.lastUid++}))})).then((function(t){k(e.state,e.setLoaded)}))}},{key:"updateAvailabilities",value:function(){var e=this,t={sp_name:"deleteAvailabilities",params:[this.state.event.UUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){var n="";e.state.selectedIntervals.forEach((function(e){if("event"==e.type){var t=e.start.clone().utc().format("YYYY-M-D HH:mm:ss"),a=e.end.clone().utc().format("YYYY-M-D HH:mm:ss");n+=t+","+a+";"}}));var a={sp_name:"saveAvailabilityArray",params:[e.state.event.UUID,n]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){alert("Saved")}))}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(x.a,{startTime:g()({h:7,m:0}),endTime:g()({h:22,m:15}),firstDay:g()(this.state.event.startDate).add(1,"days"),numberOfDays:g()(this.state.event.endDate).diff(g()(this.state.event.startDate),"days")+1,scaleFormat:"HH:mm",dayFormat:"ddd. MM.DD",useModal:!1,selectedIntervals:this.state.selectedIntervals,onIntervalSelect:this.handleSelect,onIntervalUpdate:this.handleEventUpdate,onIntervalRemove:this.handleEventRemove,setSelectedIntervals:this.setSelectedIntervals,onEventClick:this.handleEventRemove,eventSpacing:0}),Object(v.jsxs)("div",{style:{textAlign:"right",padding:"10px"},children:[Object(v.jsx)("button",{class:"bluebutton",onClick:M,disabled:this.state.loaded,children:"Load Google Calendar"}),Object(v.jsx)("button",{class:"greenbutton",onClick:this.updateAvailabilities,children:"Save"})]})]})}}]),n}(r.a.Component),U=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={event:{name:"",description:"",startDate:"",endDate:"",UUID:"",isRecurring:""},loaded:!1},a.setLoaded=a.setLoaded.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"setLoaded",value:function(){this.setState({loaded:!0})}},{key:"addResponse",value:function(){var e=this,t={sp_name:"addResponse",params:[this.props.eventUUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.props.refresh()}))}},{key:"getEvent",value:function(){var e=this,t={sp_name:"getEvent",params:[this.props.eventUUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.state.event.name=t[0].name,e.state.event.description=t[0].description,e.state.event.startDate=t[0].startDate,e.state.event.endDate=t[0].endDate,e.state.event.UUID=t[0].UUID,e.state.event.isRecurring=t[0].isRecurring,e.setLoaded(),e.addResponse()}))}},{key:"componentDidMount",value:function(){this.getEvent()}},{key:"render",value:function(){var e=this.state,t=e.event;return e.loaded?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{textAlign:"center",padding:"10px"},children:Object(v.jsxs)("h3",{children:[t.name," - ",t.description]})}),Object(v.jsx)(R,{event:t})]}):Object(v.jsx)("div",{})}}]),n}(r.a.Component);function N(e){var t=Object(f.h)().UUID;return Object(v.jsx)(U,{eventUUID:t,refresh:e.refresh})}var H=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={name:"",description:"",startDate:"",endDate:"",redirect:!1},a.addEvent=a.addEvent.bind(Object(d.a)(a)),a.handleName=a.handleName.bind(Object(d.a)(a)),a.handleDescription=a.handleDescription.bind(Object(d.a)(a)),a.handleStartDate=a.handleStartDate.bind(Object(d.a)(a)),a.handleEndDate=a.handleEndDate.bind(Object(d.a)(a)),a.setRedirect=a.setRedirect.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"setRedirect",value:function(){this.setState({redirect:!0})}},{key:"addEvent",value:function(e){var t=this;if(e.preventDefault(),""!=this.state.name&&""!=this.state.startDate&&""!=this.state.endDate){var n={sp_name:"addEvent",params:[this.state.name,this.state.description,this.state.startDate,this.state.endDate,60,0]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){t.props.refresh(),t.setRedirect()}))}}},{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"handleDescription",value:function(e){this.setState({description:e.target.value})}},{key:"handleStartDate",value:function(e){this.setState({startDate:e.target.value})}},{key:"handleEndDate",value:function(e){this.setState({endDate:e.target.value})}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(v.jsx)(f.a,{to:"/"}):Object(v.jsxs)("div",{style:{padding:"16px"},children:[Object(v.jsx)("h3",{children:"Create New Event"}),Object(v.jsxs)("form",{onSubmit:function(t){return e.addEvent(t)},children:[Object(v.jsx)("p",{children:"Name:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.name,onChange:this.handleName})}),Object(v.jsx)("p",{children:"Description:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.description,onChange:this.handleDescription})}),Object(v.jsx)("p",{children:"Start Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.startDate,onChange:this.handleStartDate})}),Object(v.jsx)("p",{children:"End Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.endDate,onChange:this.handleEndDate})}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"submit",class:"greenbutton",value:"Create"})})]})]})}}]),n}(r.a.Component),A=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return this.props.loggedIn?Object(v.jsxs)("div",{class:"topnav",children:[Object(v.jsx)("h2",{style:{pointerEvents:"none"},children:"TigerMeet"}),Object(v.jsxs)("div",{class:"topnav-right",children:[Object(v.jsx)(p.b,{to:"/",children:Object(v.jsx)("h2",{children:"Dashboard"})}),Object(v.jsx)(p.b,{to:"/",children:Object(v.jsx)("h2",{children:"About"})}),Object(v.jsx)("a",{href:"/logout",children:Object(v.jsx)("h2",{children:"Log Out"})})]})]}):Object(v.jsxs)("div",{class:"topnav",children:[Object(v.jsx)("h2",{children:"TigerMeet"}),Object(v.jsxs)("div",{class:"topnav-right",children:[Object(v.jsx)(p.b,{to:"/",children:Object(v.jsx)("h2",{children:"About"})}),Object(v.jsx)("a",{href:"/login",children:Object(v.jsx)("h2",{children:"Log In"})})]})]})}}]),n}(r.a.Component),q=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={name:a.props.event.name,description:a.props.event.description,startDate:g()(a.props.event.startDate).add(1,"days").format("YYYY-MM-DD"),endDate:g()(a.props.event.endDate).add(1,"days").format("YYYY-MM-DD"),redirect:!1},a.editEvent=a.editEvent.bind(Object(d.a)(a)),a.handleName=a.handleName.bind(Object(d.a)(a)),a.handleDescription=a.handleDescription.bind(Object(d.a)(a)),a.handleStartDate=a.handleStartDate.bind(Object(d.a)(a)),a.handleEndDate=a.handleEndDate.bind(Object(d.a)(a)),a.setRedirect=a.setRedirect.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"setRedirect",value:function(){this.setState({redirect:!0})}},{key:"editEvent",value:function(e){var t=this;if(e.preventDefault(),""!=this.state.name&&""!=this.state.startDate&&""!=this.state.endDate){var n={sp_name:"editEvent",params:[this.props.event.UUID,this.state.name,this.state.description,this.state.startDate,this.state.endDate,60,0]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){t.props.refresh(),t.setRedirect()}))}}},{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"handleDescription",value:function(e){this.setState({description:e.target.value})}},{key:"handleStartDate",value:function(e){this.setState({startDate:e.target.value})}},{key:"handleEndDate",value:function(e){this.setState({endDate:e.target.value})}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(v.jsx)(f.a,{to:"/"}):Object(v.jsxs)("div",{style:{padding:"16px"},children:[Object(v.jsx)("h3",{children:"Edit Event"}),Object(v.jsxs)("form",{onSubmit:function(t){return e.editEvent(t)},children:[Object(v.jsx)("p",{children:"Name:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.name,onChange:this.handleName})}),Object(v.jsx)("p",{children:"Description:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"text",value:this.state.description,onChange:this.handleDescription})}),Object(v.jsx)("p",{children:"Start Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.startDate,onChange:this.handleStartDate})}),Object(v.jsx)("p",{children:"End Date:"}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"date",value:this.state.endDate,onChange:this.handleEndDate})}),Object(v.jsx)("p",{children:Object(v.jsx)("input",{type:"submit",class:"greenbutton",value:"Save"})})]})]})}}]),n}(r.a.Component);function F(e){var t=Object(f.h)().UUID,n=e.events.find((function(e){return e.UUID===t}));return Object(v.jsx)(q,{event:n,refresh:e.refresh})}var L=n(22),Y={isStacked:!0,chartArea:{width:"75%",height:"75%"},vAxis:{format:"0",minorGridlines:{count:0}},colors:["#77DD77","#EF6461"],focusTarget:"category",tooltip:{isHtml:!0}};function B(e){return Object(v.jsx)(L.a,{chartType:"ColumnChart",width:"100%",height:"900px",data:e.data,options:Y})}var J=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={results:[],data:[],loaded:!1},a.createCustomTooltip=a.createCustomTooltip.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"createCustomTooltip",value:function(e){var t="<ol>";return e.split(";").forEach((function(e){t+="<li>"+e+"</li>"})),t+"</ol>"}},{key:"getResults",value:function(){var e=this,t={sp_name:"getResults_Collapsed",params:[this.props.eventUUID]};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.state.data.push(["Date and Time","Available",{role:"tooltip",p:{html:!0}},"Not Available",{role:"tooltip",p:{html:!0}}]),t.forEach((function(t){var n=t.window_startTime.slice(4,16)+"\n"+t.window_startTime.slice(17,22)+"-"+t.window_endTime.slice(17,22);e.state.data.push([n,t.available_cnt,e.createCustomTooltip(t.available_names),t.not_available_cnt,e.createCustomTooltip(t.not_available_names)])})),e.setState({loaded:!0})}))}},{key:"componentDidMount",value:function(){this.getResults()}},{key:"render",value:function(){var e=this.state,t=e.results;return e.loaded?Object(v.jsxs)("div",{style:{padding:"16px",width:"100%",height:"100%",margin:"auto"},children:[Object(v.jsx)("h3",{children:"Results"}),Object(v.jsx)("div",{children:t}),Object(v.jsx)(B,{data:this.state.data})]}):Object(v.jsx)("div",{})}}]),n}(r.a.Component);function W(e){var t=Object(f.h)().UUID;return Object(v.jsx)(J,{eventUUID:t})}var z=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={events:[],responses:[],loaded:!1},a.getResponses=a.getResponses.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"getEvents",value:function(e){var t=this;fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sp_name:"getEvents",params:[]})}).then((function(e){return e.json()})).then((function(n){var a=[];n.forEach((function(e){a.push(e)})),t.setState({events:a,loaded:!0}),e&&e()}))}},{key:"getResponses",value:function(e){var t=this;fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sp_name:"getResponses",params:[]})}).then((function(e){return e.json()})).then((function(n){var a=[];n.forEach((function(e){a.push(e)})),t.setState({responses:a}),t.getEvents(e)}))}},{key:"componentDidMount",value:function(){this.getResponses()}},{key:"render",value:function(){var e=this.state,t=e.events,n=e.responses;return e.loaded?Object(v.jsxs)("div",{children:[Object(v.jsx)(A,{loggedIn:!0}),Object(v.jsxs)(f.d,{children:[Object(v.jsx)(f.b,{path:"/",element:Object(v.jsx)(y,{events:t,responses:n,refresh:this.getResponses})}),Object(v.jsx)(f.b,{path:"/respond/:UUID",element:Object(v.jsx)(N,{refresh:this.getResponses})}),Object(v.jsx)(f.b,{path:"/create",element:Object(v.jsx)(H,{refresh:this.getResponses})}),Object(v.jsx)(f.b,{path:"/edit/:UUID",element:Object(v.jsx)(F,{events:t,refresh:this.getResponses})}),Object(v.jsx)(f.b,{path:"/results/:UUID",element:Object(v.jsx)(W,{})})]})]}):Object(v.jsx)("div",{})}}]),n}(r.a.Component),G=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(z,{})})}}]),n}(r.a.Component),K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))};o.a.render(Object(v.jsxs)(p.a,{children:[Object(v.jsx)(G,{})," "]}),document.getElementById("root")),K()}},[[44,1,2]]]);
//# sourceMappingURL=main.e7c8cae1.chunk.js.map